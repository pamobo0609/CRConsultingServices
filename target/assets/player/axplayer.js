function setUpController(){var e={};$axure.page=e;$axure.utils.makeBindable(e,["load"]);var t=function(){};$axure.player=t;var n={};var r=function(){try{var e=document.getElementById("mainFrame");return $axure.shouldSendVarsToServer(e.contentWindow.location.href)}catch(t){return $axure.shouldSendVarsToServer()}};var i=function(e){var t="";for(var i in n){var s=n[i];if(s!=null&&s.length>0){if(t.length>0)t+="&";t+=i+"="+encodeURIComponent(s)}}return t.length>0?e+(r()?"?":"#")+t+"&CSUM=1":e};$axure.getLinkUrlWithVars=i;$axure.messageCenter.addMessageListener(function(e,t){if(e=="setGlobalVar"){n[t.globalVarName]=t.globalVarValue}});$axure.messageCenter.addStateListener("page.data",function(t,n){for(var r in n){e[r]=n[r]}$axure.page.triggerEvent("load")});e.navigate=function(e,t){var n=document.getElementById("mainFrame");var r;if(e.indexOf(":")<0||e[0]=="/"){var i=window.location.href;var s=i.substring(0,i.lastIndexOf("/")+1)+e;r=s}else{r=e}if(!t){n.contentWindow.location.href=r;return}var o=$axure.getLinkUrlWithVars(r);var u=$axure.messageCenter.getState("page.data");var a=u&&u.location;if(a&&a.indexOf("#")!=-1)a=a.substring(0,a.indexOf("#"));n.contentWindow.location.href=a&&r.toLowerCase()!=a.toLowerCase()?o:"resources/reload.html#"+encodeURI(o)};var s=[];var o=null;t.createPluginHost=function(e){if(!(!e.context||e.context==="interface")){throw"unknown context type"}if(!e.id)throw"each plugin host needs an id";var t=$("<div id="+e.id+"></div>").appendTo("#interfaceControlFrameContainer");var n=s.length==0;if(!n){t.hide()}else{o=e.id}var r=$('<a pluginId="'+e.id+'" >'+e.title+"</a>");r.click($axure.utils.curry(u,e.id)).wrap("<li>").parent().appendTo("#interfaceControlFrameHeader");if(n){r.addClass("selected")}s[s.length]=e.id};var u=function(e){$("#interfaceControlFrameHeader a").removeClass("selected");$("#interfaceControlFrameHeader a[pluginId="+e+"]").addClass("selected");$("#"+o).hide();$("#"+e).show();o=e}}function setUpDocumentStateManager(){var e=$axure.prototype.documentStateManager={};$axure.utils.makeBindable(e,["globalVariableChanged"]);e.globalVariableValues={};e.setGlobalVariable=function(t,n,r){var i={};i.variableName=t;i.newValue=n;i.oldValue=this.getGlobalVariable(t);i.source=r;e.globalVariableValues[t]=n;this.triggerEvent("globalVariableChanged",i)};e.getGlobalVariable=function(t){return e.globalVariableValues[t]}}function setUpPageStateManager(){var e=$axure.prototype.pageStateManager={};e.panelToStateIds={}}if(!window.$axure)window.$axure=function(){};if(typeof console=="undefined")console={log:function(){}};if(window._axUtils)$axure.utils=_axUtils;$axure.loadDocument=function(e){$axure.document=e}