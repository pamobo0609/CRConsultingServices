$axure.internal(function(e){var t=e.geometry={};var n={};var r=[];var i=function(t){var i=r.indexOf(t);if(i!=-1){var s=e.splice(r,i+1);e.splice(r,i,r.length-i);r=r.concat(s)}delete n[t]};t.unregister=i;var s=function(){n={};r=[]};var o=function(e){return Boolean(n[e])};t.polygonRegistered=o;var u=function(e,t,i,s){var o=r.indexOf(e);if(o==-1)r.push(e);n[e]={points:t,callback:i,info:s}};t.registerPolygon=u;var a=function(e){if(!o(e))return undefined;return n[e].info};t.getPolygonInfo=a;var f=function(e){var t=e.pagex;var n=e.pagey;var r=e.width;var i=e.height;var s=t+r;var o=n+i;var u={X:function(){return t},Y:function(){return n},Wigth:function(){return r},Height:function(){return i},Left:function(){return t},Right:function(){return s},Top:function(){return n},Bottom:function(){return o}};return u};t.genRect=f;var l=function(e,t){return{x:e,y:t}};t.genPoint=l;var c=l(0,0);t.tick=function(t,i,o){var u=c;var a=c=l(t,i);var f={p1:u,p2:a};if(!r.length)return;for(var p=0;p<r.length;p++){var v=n[r[p]];var m=v.points;if(!v.checked){if(!d(m,e.mouseLocation)){v.callback({outside:true});continue}v.checked=true}for(var g=0;g<m.length;g++){var y=m[g];var b=m[(g+1)%m.length];var w=h(f,{p1:y,p2:b});if(w){v.callback(w);break}}}if(o)s()};var h=function(e,t){var n={};var r={};var i=e.p1.x<e.p2.x||e.p1.x==e.p2.x&&e.p1.y<e.p2.y?e.p1:e.p2;var s=e.p1.x<e.p2.x||e.p1.x==e.p2.x&&e.p1.y<e.p2.y?e.p2:e.p1;var o=(s.y-i.y)/(s.x-i.x);var u=t.p1.x<t.p2.x||t.p1.x==t.p2.x&&t.p1.y<t.p2.y?t.p1:t.p2;var a=t.p1.x<t.p2.x||t.p1.x==t.p2.x&&t.p1.y<t.p2.y?t.p2:t.p1;var f=(a.y-u.y)/(a.x-u.x);var l=e.p1.x==e.p2.x;var c=t.p1.x==t.p2.x;if(l||c){if(l&&c){if(i.x!=u.x)return false;if(s.y<u.y||i.y>a.y)return false;var h=i.y>=u.y?i:u;var p=s.y<=a.y?s:a;n.parallel={first:i==e.p1?h:p,second:s==e.p2?p:h,sameDirection:i==e.p1==(u==t.p1)};return n}var d=c?i.x:u.x;var v=c?s.x:a.x;var m=c?u.x:i.x;var g=c?i.y+(m-d)*o:u.y+(m-d)*f;var y=c?u.y:i.y;var b=c?a.y:s.y;if(m>=d&&m<=v&&g>=y&&g<=b){n.point={x:m,y:g};n.exiting=c==(y==(c?t.p1.y:e.p1.y))==(d==(c?e.p1.x:t.p1.x));n.entering=!n.exiting;if(d==m){r[c?"l1":"l2"]=d==(c?e.p1.x:t.p1.x)?"start":"end";n.ties=r}else if(v==m){r[c?"l1":"l2"]=v==(c?e.p2.x:t.p2.x)?"end":"start";n.ties=r}if(y==g){r[c?"l2":"l1"]=y==(c?t.p1.y:e.p1.y)?"start":"end";n.ties=r}else if(b==g){r[c?"l2":"l1"]=b==(c?t.p2.y:e.p2.y)?"end":"start";n.ties=r}return n}return false}if(o==f){if(i.y!=u.y+(i.x-u.x)*o)return false;if(s.x<u.x||i.x>a.x)return false;var w=i.x>=u.x?i:u;var E=s.x<=a.x?s:a;n.parallel={first:i==e.p1?w:E,second:s==e.p2?E:w,sameDirection:i==e.p1==(u==t.p1)};return n}var S=(u.y-u.x*f-i.y+i.x*o)/(o-f);if(S>=i.x&&S<=s.x&&S>=u.x&&S<=a.x){var g=i.y+(S-i.x)*o;n.point={x:S,y:g};n.entering=o>f==(i==e.p1)==(u==t.p1);n.exiting=!n.entering;if(e.p1.x==S){r.l1="start";n.ties=r}else if(e.p2.x==S){r.l1="end";n.ties=r}if(t.p1.x==S){r.l2="start";n.ties=r}else if(t.p2.x==S){r.l2="end";n.ties=r}return n}return false};var p=function(t,r){if(!o(t))return false;return d(n[t].points,r||e.mouseLocation)};t.checkInsideRegion=p;var d=function(e,t){var n=e[0].x;var r=n;var i;for(i=1;i<e.length;i++){var s=e[i].x;n=Math.min(n,s);r=Math.max(r,s)}var o={p1:l(--n,t.y),p2:l(++r,t.y)};var u=false;var a=o.p1.x;var f=-2;var c=function(e){var t=e.p2.x-e.p1.x;var n=e.p2.y-e.p1.y;return t/Math.sqrt(t*t+n*n)};for(i=0;i<e.length;i++){var p={p1:e[i],p2:e[(i+1)%e.length]};var d=h(o,p);if(!d)continue;if(d.parallel){if(d.parallel.first.x<=t.x&&d.parallel.second.x>=t.x)return true;continue}var v=d.point.x;if(v>t.x||v<a)continue;if(v==t.x)return true;if(v!=a)f=-2;if(d.ties){if(d.ties.l2=="end")p={p1:p.p2,p2:p.p1}}else{if(p.p1.x>p.p2.x)p={p1:p.p2,p2:p.p1}}var m=c(p);if(m>f){f=m;a=v;u=d.entering}}return u};t.checkInside=d})