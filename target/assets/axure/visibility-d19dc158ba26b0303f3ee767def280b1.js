$axure.internal(function(e){var t=window.document;var n={};e.visibility=n;var r={};var i={};var s=e.visibility.IsIdVisible=function(t){return e.visibility.IsVisible(window.document.getElementById(t))};e.visibility.IsVisible=function(e){return e.style.visibility!="hidden"};e.visibility.SetIdVisible=function(t,n){e.visibility.SetVisible(window.document.getElementById(t),n);if(!n){$jobj(e.repeater.applySuffixToElementId(t,"_lightbox")).remove();e.flyoutManager.unregisterPanel(t,true)}};e.visibility.SetVisible=function(e,t){e.style.display=t?"":"none";e.style.visibility=t?"visible":"hidden"};var o=e.visibility.SetWidgetVisibility=function(r,i){if(h[r]){e.action.fireAnimationFromQueue(r);return}var s=$jobj(r).parent().attr("id");u(s,r,i);var o=t.getElementById(r+"_ann");if(o)n.SetVisible(o,i.value);var a=t.getElementById(r+"_ref");if(a)n.SetVisible(a,i.value)};var u=function(t,n,r){var i=$jobj(n);var s=e.visibility.IsIdVisible(n);if(s==r.value){e.action.fireAnimationFromQueue(n);return}var o=$jobj(n);var u=t?$jobj(t):o.parent();var c=r.easing&&r.easing!="none";var h=r.cull?r.cull.css("position"):"";if(c){var p=e.dynamicPanelManager.getFixedInfo(n);var d=n+"_container";var v=a(d,r.cull||o,p);v.insertBefore(o);o.appendTo(v);if(!r.settingChild){o.css({position:"absolute",left:0,top:0,"margin-left":0,"margin-top":0})}}var m=function(){if(c){var t={};if(p.fixed){t.position="fixed";if(p.horizontal=="left")t.left=p.x;else if(p.horizontal=="center"){t.left="50%";t["margin-left"]=p.x}else if(p.horizontal=="right"){t.left="auto";t.right=p.x}if(p.vertical=="top")t.top=p.y;else if(p.vertical=="middle"){t.top="50%";t["margin-top"]=p.y}else if(p.vertical=="bottom"){t.top="auto";t.bottom=p.y}}else{t.top=Number(v.css("top").replace("px",""))||0;t.left=Number(v.css("left").replace("px",""))||0}o.insertBefore(v);v.remove();o.css(t);if(r.cull)r.cull.css("position",h)}r.onComplete&&r.onComplete();if(r.fire){e.event.raiseSyntheticEvent(n,r.value?"onShow":"onHide");e.action.fireAnimationFromQueue(n)}};var g=r.size||(c?o:u);if(!r.easing||r.easing=="none"){e.visibility.SetIdVisible(n,r.value);m()}else if(r.easing=="fade"){if(r.value){i.css("visibility","visible");i.fadeIn(r.duration,m)}else{i.animate({opacity:0},r.duration,"swing",function(){e.visibility.SetIdVisible(n,false);i.css("opacity","");m()})}}else{if(r.value){l(n,n,r.easing,r.direction,r.duration,g,false,m)}else{var y=o.css("top");var b=o.css("left");var w=function(){e.visibility.SetIdVisible(n,false);o.css("top",y);o.css("left",b);m()};f(g,n,r.easing,r.direction,r.duration,w)}}if(r.value){var E=$jobj(n).find("*");for(var S=0;S<E.length;S++){var x=E[S].id;if(e.getTypeFromElementId(x)!="richTextPanel")continue;e.style.updateTextAlignmentForVisibility(x)}}};e.visibility.GetPanelState=function(t){var n=$jobj(t).children();for(var r=0;r<n.length;r++){if(n[r].style&&e.visibility.IsVisible(n[r]))return n[r].id}return""};e.visibility.SetPanelState=function(t,n,r,i,s,o,a,f,l){var h=!e.visibility.IsIdVisible(t)&&l;if(h)e.visibility.SetIdVisible(t,true);if(e.visibility.IsIdVisible(n)){if(h)e.event.raiseSyntheticEvent(t,"onShow");e.action.fireAnimationFromQueue(t);return}var p=$jobj(n);var d=e.visibility.GetPanelState(t);var v=$jobj(d);e.dynamicPanelManager.adjustFixed(t,v.width(),v.height(),p.width(),p.height());c(t,d);var m=e.dynamicPanelManager.isIdFitToContent(t);var g=false;if(m){g=p.width()!=v.width()||p.height()!=v.height()}var y=(i=="left"||i=="up"||p.children().length==0)&&v.children().length!=0?v:p;var b=0;var w=function(){e.dynamicPanelManager.fitParentPanel(t);e.dynamicPanelManager.updatePanelPercentWidth(t);e.dynamicPanelManager.updatePanelContentPercentWidth(t);e.action.fireAnimationFromQueue(t);e.event.raiseSyntheticEvent(t,"onPanelStateChange");e.event.leavingState(d)};u(t,d,{value:false,easing:r,direction:i,duration:s,onComplete:function(){c(t,n);if(++b==2)w()},settingChild:true,size:y,cull:r=="none"||p.children().length==0?v:p});u(t,n,{value:true,easing:o,direction:a,duration:f,onComplete:function(){if(++b==2)w()},settingChild:true,size:y});if(h)e.event.raiseSyntheticEvent(t,"onShow");if(g)e.event.raiseSyntheticEvent(t,"onResize")};var a=function(e,t,n){var r=$("<div></div>");r.attr("id",e);var i={position:"absolute",width:t.width(),height:t.height(),overflow:"hidden"};if(n.fixed){i.position="fixed";if(n.horizontal=="left")i.left=n.x;else if(n.horizontal=="center"){i.left="50%";i["margin-left"]=n.x}else if(n.horizontal="right"){i.left="auto";i.right=n.x}if(n.vertical=="top")i.top=n.y;else if(n.vertical=="middle"){i.top="50%";i["margin-top"]=n.y}else if(n.vertical=="bottom"){i.top="auto";i.bottom=n.y}}else{i.left=Number(t.css("left").replace("px",""))||0;i.top=Number(t.css("top").replace("px",""))||0}r.css(i);return r};var f=function(t,n,r,i,s,o){var u=t.width();var a=t.height();if(i=="right"){e.move.MoveWidget(n,u,0,r,s,false,o)}else if(i=="left"){e.move.MoveWidget(n,-u,0,r,s,false,o)}else if(i=="up"){e.move.MoveWidget(n,0,-a,r,s,false,o)}else if(i=="down"){e.move.MoveWidget(n,0,a,r,s,false,o)}};var l=function(t,n,r,i,s,o,u,a){var f=o.width();var l=o.height();var c=$jobj(n);var h=0;var p=0;if(i=="right"){c.css("left",p-f+"px")}else if(i=="left"){c.css("left",p+f+"px")}else if(i=="up"){c.css("top",h+l+"px")}else if(i=="down"){c.css("top",h-l+"px")}if(u)e.visibility.SetIdVisible(t,true);e.visibility.SetIdVisible(n,true);if(i=="right"){e.move.MoveWidget(n,f,0,r,s,false,a)}else if(i=="left"){e.move.MoveWidget(n,-f,0,r,s,false,a)}else if(i=="up"){e.move.MoveWidget(n,0,-l,r,s,false,a)}else if(i=="down"){e.move.MoveWidget(n,0,l,r,s,false,a)}};e.visibility.GetPanelStateId=function(t,n){var r=e.repeater.getItemIdFromElementId(t);var i=e.repeater.getScriptIdFromElementId(t)+"_state"+n;return e.repeater.createElementId(i,r)};var c=function(e,t){$("#"+t).appendTo($("#"+e))};var h=n.limboIds={};var p=e.visibility.addLimboAndHiddenIds=function(t,r,i){var u={};for(var a in t){if(e.getObjectFromElementId(a).type!="referenceDiagramObject")continue;var f=e.model.idsInRdo(a);for(var l=0;l<f.length;l++)u[f[l]]=true}var c={};for(a in r){if(e.getObjectFromElementId(a).type!="referenceDiagramObject")continue;f=e.model.idsInRdo(a);for(l=0;l<f.length;l++)c[f[l]]=true}t=$.extend(t,u);r=$.extend(r,c);i.each(function(e,n){if(e.type=="referenceDiagramObject"||e.type=="tableCell"||e.isContained||$jobj(n).hasClass("sub_menu"))return;if(e.type=="table"&&$jobj(n).parent().hasClass("ax_menu"))return;var i=Boolean(!t[n]&&!r[n]);var u=Boolean(s(n));if(i!=u){o(n,{value:i})}});h=n.limboIds=$.extend(h,t)};var d=e.visibility.clearLimboAndHidden=function(e){h=n.limboIds={}};e.visibility.clearLimboAndHiddenIds=function(e){for(var t=0;t<e.length;t++)delete h[e[t]]};e.visibility.resetLimboAndHiddenToDefaults=function(){d();p(i,r,e("*"))};e.visibility.initialize=function(){$axure("*").each(function(e,t){if(e.style.visible===false)r[t]=true;if(e.style.limbo)i[t]=true});e.visibility.addLimboAndHiddenIds(i,r,e("*"))}})