$axure.internal(function(e){var t={};e.repeater=t;var n={};var r={};var i={};var s={};var o={};var u={};var a={};var f=function(){e(function(e){return e.type=="repeater"}).each(function(t,r){o[r]=e.deepCopy(t.data);o[r].props=t.dataProps;n[r]=[];v(t,r);p(r,r)})};t.load=f;var l={};var c=function(){e(function(e,t){return e.type=="repeater"&&!l[t]}).each(function(e,t){d(t)})};t.init=c;var h=[];var p=function(e,t){u[e]=o[t];a[e]=u[e];r[e]=[];i[e]=[]};t.setDataSet=p;var d=function(t,n){var r=e.getPathFromScriptId(t);var i=e.adaptive.currentViewId;var o=e.adaptive.getAdaptiveIdChain(i);var u=i;while(r.length>0){var a=u;var f=$obj(e.getScriptIdFromPath(r));var c=u?f.adaptiveStyles&&f.adaptiveStyles[u]:f.style;if(c&&typeof c.limbo!="undefined"){if(c.limbo){D(t);return}a=false}if(a){var h=o.indexOf(u);u=h==0?"":o[h-1]}else{e.splice(r,r.length-1,1);u=i}}l[t]=true;e.action.refreshStart(t);e.style.ClearCacheForRepeater(t);if(e.visibility.limboIds[t]){D(t);e.dynamicPanelManager.fitParentPanel(t);return}var p=e.getPathFromScriptId(t);p.pop();if(n){n=e.eventCopy(n)}var d=e.getObjectFromScriptId(t);var v=$("#"+t+"_script").html();var b=$("<div></div>");b.html(v);var w=0;var S=0;var x=d.repeaterPropMap;var T=e.adaptive.currentViewId||"";var N=g(x,"wrap",T);var C=g(x,"vertical",T);var k=x[T];var L=k.width+g(x,"horizontalSpacing",T);var A=k.height+g(x,"verticalSpacing",T);b.css({width:k.width,height:k.height});var O=g(x,"backColor",T);m(O,b);var M=g(x,"hasAltColor",T);var _=b;if(M)_=m(M?g(x,"altColor",T):O,b.clone());var P=E(t,n);var H=e.visibility.IsIdVisible(t);if(H)document.getElementById(t).style.visibility="hidden";var B=y(s[t],P.length);var j=B[0];var F=B[1];var I=false;var q=e.getItemIdsForRepeater(t).length!=F-j;D(t);var U=0;var V=[];for(var J=j;J<F;J++){var K=P[J];var Q=R(t,K);e.addItemIdToRepeater(K,t);V.push(Q);var G=function(e,t,n,r){var i=R("u"+n,K);if(!r)V.push(i);return t+'="'+i+'"'};var Y=(I?_:b).clone();I=!I;Y.attr("id",Q);Y.html(b.html().replace(/(id|for)="?u([0-9]+(_[_a-z0-9]*)?)"?/g,G));Y.css({position:"absolute",top:w+"px",left:S+"px",width:d.width+"px",height:d.height+"px"});$("#"+t).append(Y);U++;if(N!=-1&&U%N==0){if(C){w=0;S+=L}else{S=0;w+=A}}else if(C)w+=A;else S+=L}var Z=e(function(n,r){var i=z(r);return e.getParentRepeaterFromScriptId(i)==t&&i!=t});if(T)e.adaptive.applyView(T,Z);else{var et={};var tt={};Z.each(function(e,t){if(e.style.visible===false)tt[t]=true;if(e.style.limbo)et[t]=true});e.visibility.addLimboAndHiddenIds(et,tt,Z);e.dynamicPanelManager.updatePercentPanelCache(Z)}e.annotation.InitializeAnnotations(Z);for(var nt=0;nt<V.length;nt++){var rt=V[nt];var it=$obj(rt);var st=$jobj(rt);var ot=W(rt);if(d.repeaterPropMap.isolateRadio&&it.type=="radioButton"){var ut=$jobj(X(rt,"_input"));ut.attr("name",R(ut.attr("name"),ot));if(e.ieColorManager)e.ieColorManager.applyBackground(e("#"+rt))}if(d.repeaterPropMap.isolateSelection&&st.attr("selectiongroup")){st.attr("selectiongroup",R(st.attr("selectiongroup"),ot))}e.initializeObjectEvents(e("#"+rt));e.dynamicPanelManager.initFitPanels(e("#"+rt));e.style.initializeObjectTextAlignment(e("#"+rt));e.applyHighlight(e("#"+rt),true)}for(J=j;J<F;J++){K=P[J];Q=R(t,K);e.event.raiseSyntheticEvent(Q,"onItemLoad",true);e.loadDynamicPanelsAndMasters(d.objects,p,K)}if(H)document.getElementById(t).style.visibility="visible";e.dynamicPanelManager.fitParentPanel(t);if(q){var at=F-j;var ft=N==-1?1:Math.ceil(at/N);var lt=N==-1?at:at%N;if(lt==0)lt=N;if(C){var ct=lt;lt=ft;ft=ct}$jobj(t).css("width",k.width+(lt-1)*L);$jobj(t).css("height",k.height+(ft-1)*A)}e.action.refreshEnd()};t.refreshRepeater=d;t.refreshAllRepeaters=function(){e("*").each(function(t,n){if(t.type!="repeater")return;v(t,n);d(n,e.getEventInfoFromEvent(e.getjBrowserEvent()))})};t.refreshRepeaters=function(e,t){for(var n=0;n<e.length;n++)d(e[n],t)};var v=function(t,n){var r={};var i=t.repeaterPropMap;var o=e.adaptive.currentViewId||"";var u=g(i,"itemsPerPage",o);if(u==-1)r.noLimit=true;else{r.itemsPerPage=u;r.currPage=g(i,"currPage",o)}s[n]=r};var m=function(t,n){var r=t.r+", "+t.g+", "+t.b;var i=t.a==0?"":t.a==1?"rgb("+r+")":"rgba("+r+", "+t.a+")";if(e.ieColorManager&&t.a!=0&&t.a!=1){var s=e.ieColorManager.getColorFromArgb(t.a*255,t.r,t.g,t.b,true);if(s)i=s}n.css("background-color",i);return n};var g=t.getAdaptiveProp=function(t,n,r){var i=e.adaptive.getAdaptiveIdChain(r);for(var s=i.length-1;s>=0;s--){r=i[s];var o=t[r];if(o.hasOwnProperty(n))return o[n]}var u=t[""];if(u.hasOwnProperty(n))return u[n];return t["default"][n]};t.getItemCount=function(e){var t=a[e].length;var n=s[e];if(!n.noLimit){var r=Math.min(t,n.itemsPerPage*n.currPage);var i=Math.min(t,r+n.itemsPerPage);t=i-r}return t};t.setDisplayProps=function(e,t,n){var r=a[t];var i=s[t];var o=0;var u=r.length;if(!i.noLimit){o=Math.min(u,i.itemsPerPage*(i.currPage-1));u=Math.min(u,o+i.itemsPerPage)}var f=u-o;var l=-1;for(var c=0;c<f;c++){if(r[o+c].index==n)l=c+1}if(l==-1)return;e.index=l;e.isfirst=l==1;e.islast=l==u-o;e.iseven=l%2==0;e.isodd=l%2==1};var y=function(e,t){var n=[0,t];if(!e.noLimit){var r=e.itemsPerPage*e.currPage;var i=r-e.itemsPerPage;if(i>=t){e.currPage=Math.floor((t-1)/e.itemsPerPage)+1;if(e.currPage<=0)e.currPage=1;r=e.itemsPerPage*e.currPage;i=r-e.itemsPerPage}r=Math.min(r,t);n[0]=i;n[1]=r}return n};t.getVisibleDataCount=function(e){var t=y(s[e],a[e].length);return t[1]-t[0]};t.getDataCount=function(e){return u[e].length};var b=t.getFilteredDataCount=function(e){return a[e].length};t.getPageCount=function(e){var t=s[e];return t.noLimit?1:Math.ceil(b(e)/t.itemsPerPage)};t.getPageIndex=function(e){var t=s[e];return t.noLimit?1:t.currPage};var w=function(t){var n=e.deepCopy(u[t]);for(var r=0;r<n.length;r++)n[r].index=r+1;return n};var E=function(e,t){var n=a[e]=w(e);N(e,n,t);var r=i[e]||[];if(r.length!=0&&n.length>1){var s=function(e,t,n,r){var i=Math.floor((t+n)/2);if(i-t>1)s(e,t,i,r);if(n-i>1)s(e,i,n,r);var o=t;var u=i;var a=[];while(o<i&&u<n){a[a.length]=e[r(e[o],e[u])>0?u++:o++]}while(o<i)a[a.length]=e[o++];while(u<n)a[a.length]=e[u++];for(var f=0;f<a.length;f++)e[t+f]=a[f]};var o=function(e,t,n,r){return function(i,s){if(i[e]===undefined||s[e]===undefined)return 0;var o=i[e].text;var u=s[e].text;if(n=="Text"){o=o.toLowerCase();u=u.toLowerCase()}if(o==u){if(r)return r(i,s);return 0}if(n=="Text"||n=="Text (Case Sensitive)"){if(o<u^t)return 1;else return-1}else if(n=="Number"){var a=Number(o);var f=Number(u);if(isNaN(a)&&isNaN(f))return 0;if(isNaN(a)||isNaN(f))return isNaN(a)?1:-1;if(a<f^t)return 1;else return-1}else if(n=="Date - YYYY-MM-DD"||n=="Date - MM/DD/YYYY"){var l=n=="Date - YYYY-MM-DD"?S:x;var c=l(o);var h=l(u);if(!c.valid&&!h.valid)return 0;if(!c.valid||!h.valid)return c.valid?-1:1;var p=h.year-c.year;if(p==0)p=h.month-c.month;if(p==0)p=h.day-c.day;if(p==0)return 0;return p>0^t?1:-1}console.log("unhandled sort type");return 0}};var u=null;for(var f=0;f<r.length;f++)u=o(r[f].columnName,r[f].ascending,r[f].sortType,u);s(n,0,n.length,u)}var l=[];for(f=0;f<n.length;f++)l[f]=n[f].index;return l};var S=function(e){var t={valid:false};var n=e.split("-");if(n.length==1)n=e.split("/");if(n.length!=3)return t;t.year=Number(n[0]);t.month=Number(n[1]);t.day=Number(n[2]);t.valid=!isNaN(t.year);t.valid&=!isNaN(t.month)&&t.month>0&&t.month<=12;t.valid&=!isNaN(t.day)&&t.day>0&&t.day<=T(t.month,t.year);return t};var x=function(e){var t={valid:false};var n=e.split("-");if(n.length==1)n=e.split("/");if(n.length!=3)return t;t.month=Number(n[0]);t.day=Number(n[1]);t.year=Number(n[2]);t.valid=!isNaN(t.year);t.valid&=!isNaN(t.month)&&t.month>0&&t.month<=12;t.valid&=!isNaN(t.day)&&t.day>0&&t.day<=T(t.month,t.year);return t};var T=function(e,t){if(e==9||e==4||e==6||e==11)return 30;if(e!=2)return 31;if(t%4!=0)return 28;if(t%100!=0)return 29;return t%400==0?29:28};var N=function(t,n,i){var s=[];var o=r[t]||[];if(o.length!=0){var u=i.srcElement;var a=i.thiswidget;e:for(var f=1;f<=n.length;f++){for(var l=0;l<o.length;l++){i.targetElement=R(t,f);i.srcElement=o[l].thisId;i.thiswidget=e.getWidgetInfo(i.srcElement);if(e.expr.evaluateExpr(o[l].filter,i)!="true")continue e}s[s.length]=n[f-1]}for(f=0;f<s.length;f++)n[f]=s[f];while(n.length>s.length)n.pop();i.srcElement=u;i.thiswidget=a}};var C=function(e,t,n,i){var s=r[e];if(!s)r[e]=s=[];var o={filter:n,thisId:i};if(t)o.label=t;s[s.length]=o};t.addFilter=C;var k=function(t,n){var i=r[t];if(!i)return;if(!n){r[t]=[];return}for(var s=i.length-1;s>=0;s--){var o=i[s];if(o.label&&o.label==n)e.splice(i,s,1)}};t.removeFilter=k;var L=function(t,n,r,s,o,u){var a=i[t];if(!a)i[t]=a=[];for(var f=0;f<a.length;f++){if(r==a[f].columnName){var l=e.splice(a,f,1)[0];if(o)s=!l.ascending;break}}var c={columnName:r,ascending:s,sortType:u};if(n)c.label=n;a[a.length]=c};t.addSort=L;var A=function(t,n){var r=i[t];if(!r)return;if(!n){i[t]=[];return}for(var s=r.length-1;s>=0;s--){var o=r[s];if(o.label&&o.label==n)e.splice(r,s,1)}};t.removeSort=A;var O=function(t,n,r,i){var o=s[t];if(o.noLimit)return;var f=a[t];if(!f)f=u[t];var l=Math.max(1,Math.ceil(f.length/o.itemsPerPage));if(n=="Value"){var c=Number(e.expr.evaluateExpr(r,i));if(isNaN(c))c=1;else if(c<1)c=1;else if(c>l)c=l;o.currPage=c}else if(n=="Previous"){if(o.currPage>1)o.currPage--}else if(n=="Next"){if(o.currPage<l)o.currPage++}else if(n=="Last"){o.currPage=l}else{console.log("Unknown type")}};t.setRepeaterToPage=O;var M=function(e){var t=s[e];delete t.currPage;delete t.itemsPerPage;t.noLimit=true};t.setNoItemLimit=M;var _=function(t,n,r){var i=s[t];if(i.noLimit){i.noLimit=false;i.currPage=1}var o=r.targetElement;r.targetElement=t;var u=Number(e.expr.evaluateExpr(n,r));r.targetElement=o;if(isNaN(u))u=20;else if(u<1)u=1;i.itemsPerPage=u};t.setItemLimit=_;var D=function(t){var n=e.getChildElementIdsForRepeater(t);for(var r=0;r<n.length;r++)$("#"+n[r]).remove();e.visibility.clearLimboAndHiddenIds(n);e.clearItemsForRepeater(t)};var P=function(e,t,n,r){var i=Number(t)-1;var s=u[e][i][n]||{text:""};return r=="data"&&s.type!="text"?s:r&&s[r]||s["text"]};t.getData=P;t.hasData=function(t,n){if(!W(t))return false;var r=e.getParentRepeaterFromScriptId(z(t));return Boolean(u[r]&&u[r].props.indexOf(n)!=-1)};var H=function(t,n,r){r.data=true;var i=r.targetElement;r.targetElement=t;var s=o[t];for(var u in n){if(!n.hasOwnProperty(u))continue;var a=n[u];if(a.type=="literal"){var f=e.expr.evaluateExpr(a.literal,r);if(typeof f=="string")f={type:"text",text:f};n[u]=f}}r.targetElement=i;s[s.length]=n;r.data=false};t.addItem=H;var B=function(t,r,i,s){var o=u[t];var a;if(i=="this")a=[W(r.srcElement)];else if(i=="marked")a=n[t];else{var f=u[t];var a=[];var l=r.targetElement;for(var c=0;c<f.length;c++){var h=c+1;r.targetElement=R(t,h);if(e.expr.evaluateExpr(s,r).toLowerCase()!="true")continue;a.push(h)}r.targetElement=l}a.sort(function(e,t){return t-e});for(c=0;c<a.length;c++){var p=a[c];e.splice(o,p-1,1)}n[t]=[]};t.deleteItems=B;var j=function(t,r,i,s,o){var a=i.targetElement;var f=u[t];var l;if(s=="this")l=[W(i.srcElement)];else if(s=="marked")l=n[t];else{var c=u[t];var l=[];var a=i.targetElement;for(var h=0;h<c.length;h++){var p=h+1;i.targetElement=R(t,p);if(e.expr.evaluateExpr(o,i).toLowerCase()!="true")continue;l.push(p)}i.targetElement=a}i.data=true;for(var d in r){if(!r.hasOwnProperty(d))continue;for(var h=0;h<l.length;h++){var v=r[d];var m=l[h];if(v.type=="literal"){i.targetElement=R(t,m);v=e.expr.evaluateExpr(v.literal,i);if(typeof v=="object"&&v.isWidget)v=v.text;if(typeof v=="string")v={type:"text",text:v}}f[m-1][d]=v}}i.targetElement=a;i.data=false};t.updateEditItems=j;var F=function(e){var t=[];var n=u[e];for(var r=0;r<n.length;r++)t.push(r+1);return t};t.getAllItemIds=F;var I=function(e,t){for(var r=0;r<t.length;r++){var i=Number(t[r]);var s=n[e];if(s.indexOf(i)==-1)s[s.length]=i}};t.addEditItems=I;var q=function(t,r){for(var i=0;i<r.length;i++){var s=r[i];var o=n[t];var u=o.indexOf(Number(s));if(u!=-1)e.splice(o,u,1)}};t.removeEditItems=q;t.isEditItem=function(e,t){var r=n[e];return r.indexOf(Number(t))!=-1};var R=function(e,t){if(!t)return e;var n=e.indexOf("_");var r=n>-1?[e.substring(0,n),e.substring(n+1)]:[e];var i=r[0]+"-"+t;return r.length>1?i+"_"+r[1]:i};t.createElementId=R;var U=function(t,n){var r=t;if(e.getParentRepeaterFromScriptId(t)){var i=e.repeater.getItemIdFromElementId(n);r=e.repeater.createElementId(t,i)}return r};t.getElementId=U;var z=function(e){if(!e)return e;var t=e.split("-");var n=t[0];if(t.length<=1)return n;t=t[1].split("_");return t.length>1?n+"_"+t[1]:n};t.getScriptIdFromElementId=z;var W=function(e){var t=e.split("-");if(t.length<2)return"";t=t[1].split("_");return t[0]};t.getItemIdFromElementId=W;var X=function(e,t){return e+t};t.applySuffixToElementId=X});$axure.internal(function(e){var t=e.dynamicPanelManager={};var n=t.isIdFitToContent=function(t){var n=$obj(t);if(!n||n.type!="dynamicPanel"||!n.fitToContent)return false;var r=$jobj(e.visibility.GetPanelState(t));return r.css("position")=="relative"};var r=function(e){var t=d(e);if(!t)return;var n=t.parent;if(p(n,t.state))r(n)};t.fitParentPanel=r;t.initialize=function(){t.initFitPanels(e("*"));$axure.resize(o)};t.initFitPanels=function(t){var n=[];t.each(function(e,t){if(e.type=="dynamicPanel"&&e.fitToContent)n[n.length]=t});for(var r=n.length-1;r>=0;r--){var i=n[r];var s=$obj(i).diagrams.length;for(var o=0;o<s;o++){var u=e.repeater.applySuffixToElementId(i,"_state"+o);var a=u+"_content";var f=$jobj(u);var l=v(a);if(!$obj(i).percentWidth)f.width(l.width);f.height(l.height)}}};var i=[];var s=false;var o=function(){if(s){for(var t in i){f(t)}}else{e("*").each(function(e,t){if(u(e))f(t)});s=true}};var u=t.isPercentWidthPanel=function(e){return e&&e.type=="dynamicPanel"&&e.percentWidth};t.updatePanelContentPercentWidth=function(e){var t=$jobj(e).children(".panel_state");t.children(".panel_state_content").each(function(){$(this).children(".ax_dynamic_panel").each(function(){f(this.id)})})};t.updatePercentPanelCache=function(e){e.each(function(e,t){if(u(e)){if(a(e,t,true)){f(t)}}})};t.resetFixedPanel=function(e,t){if(e.fixedHorizontal=="center")t.style.marginLeft="";if(e.fixedVertical=="middle")t.style.marginTop=""};t.resetAdaptivePercentPanel=function(e,t){if(!u(e))return;if(e.fixedHorizontal=="center")t.style.marginLeft="";else if(e.fixedHorizontal=="right")t.style.width=""};var a=function(t,r,s){var o=false;var u=$jobj(r);if(i[r]==undefined||s){if(t.fixedHorizontal=="center")i[r]=Number(u.css("margin-left").replace("px",""));else if(t.fixedHorizontal=="right")i[r]=u.width()+Number(u.css("right").replace("px",""));else i[r]=Number(u.css("left").replace("px",""));o=true}if(t.fixedHorizontal=="right"&&n(r)){var a=v(e.visibility.GetPanelState(r)+"_content").width;i[r]=a+Number(u.css("right").replace("px",""));o=true}return o};var f=t.updatePanelPercentWidth=function(t){var n=$obj(t);if(!u(n))return;a(n,t,false);var r;var s;if(n.fixedHorizontal){s=0;r=$(window).width()}else{var o=d(t);if(o){var f=o.parent;r=$jobj(f).width();var l=$obj(f);if(l.percentWidth){var c=e.repeater.applySuffixToElementId(f,"_state"+o.state);var h=c+"_content";s=-Number($jobj(h).css("margin-left").replace("px",""))}else s=0}else{var p=e.getParentRepeaterFromScriptId(e.repeater.getScriptIdFromElementId(t));if(p){var v=e.repeater.getItemIdFromElementId(t);var m=e.repeater.createElementId(p,v);s=0;r=$jobj(m).width()}else{var g=$(window);r=g.width();var y=Number($("body").css("left").replace("px",""));var b=Number($("body").css("width").replace("px",""));var w=e.adaptive.getPageStyle().pageAlignment=="center";r=Math.max(r,b);s=w?-(r-b)/2-y:0}}}var E=$jobj(t);if(n.fixedHorizontal=="left")E.css("left",s+"px");else if(n.fixedHorizontal=="center"){E.css("left",s+"px");E.css("margin-left",0+"px")}else E.css("left",s+"px");E.css("width",r+"px");var S=i[t];var x=E.children(".panel_state");x.css("width",r+"px");if(n.fixedHorizontal=="center")x.children(".panel_state_content").css("left","50%").css("margin-left",S+"px");else if(n.fixedHorizontal=="right")x.children(".panel_state_content").css("left",r-S+"px");else x.children(".panel_state_content").css("margin-left",S-s+"px")};t.updateAllFitPanels=function(){var t=[];e("*").each(function(e,n){if(e.type=="dynamicPanel"&&e.fitToContent)t[t.length]=n});for(var n=t.length-1;n>=0;n--){var r=t[n];var i=$obj(r).diagrams.length;for(var s=0;s<i;s++){e.dynamicPanelManager.setFitToContentCss(r,true);p(r,s,true)}}};t.setFitToContentCss=function(t,n,r,i){if(e.dynamicPanelManager.isIdFitToContent(t)==n)return;var s=$jobj(t);var o;var u=$obj(t).scrollbars;if(n){s.attr("style","");o={};o.position="relative";if(u!="none"){o.overflow="visible";o["-webkit-overflow-scrolling"]="visible"}if(u=="verticalAsNeeded"){o["overflow-x"]="visible";o["-ms-overflow-x"]="visible"}else if(u=="horizontalAsNeeded"){o["overflow-y"]="visible";o["-ms-overflow-y"]="visible"}s.children().css(o)}else{var a={width:r,height:i};o={width:r,height:i};a.overflow="hidden";o.position="absolute";if(u!="none"){o.overflow="auto";o["-webkit-overflow-scrolling"]="touch"}if(u=="verticalAsNeeded"){o["overflow-x"]="hidden";o["-ms-overflow-x"]="hidden"}else if(u=="horizontalAsNeeded"){o["overflow-y"]="hidden";o["-ms-overflow-y"]="hidden"}s.css(a);s.children().css(o)}};var l=t.getPanelJobj=function(e){var t=$jobj(e+"_container");return t.length?t:$jobj(e)};var c=function(e){var t=$obj(e);if(!t||t.type!="dynamicPanel")return $jobj(e);var n=$jobj(e).children();for(var r=0;r<n.length;r++){var i=n[r];if(i&&i.style&&i.style.display!="none")return $jobj(i.id)}return $jobj(e)};var h=function(e){var t=$obj(e);if(!t)return l(e);if(t.type=="dynamicPanel")return c(e);return $jobj(e)};var p=function(t,n,r){if(!t)return false;if(!e.dynamicPanelManager.isIdFitToContent(t))return false;var i=e.repeater.applySuffixToElementId(t,"_state"+n);var s=i+"_content";var o=$jobj(i);var u=v(s);var a=o.width();var l=o.height();if(a==u.width&&l==u.height)return false;if(!$obj(t).percentWidth)o.width(u.width);o.height(u.height);$jobj(s).children(".ax_dynamic_panel").each(function(){f(this.id)});if(i!=e.visibility.GetPanelState(t))return false;if(!r)m(t,a,l,u.width,u.height);else if(n!=0){var c=$jobj(e.repeater.applySuffixToElementId(t,"_state0"));m(t,c.width(),c.height(),u.width,u.height)}e.event.raiseSyntheticEvent(t,"onResize");e.flyoutManager.updateFlyout(t);return true};var d=function(t,n,r){n=n||e.getPathFromScriptId(e.repeater.getScriptIdFromElementId(t));var i=$obj(t);if(i.parentDynamicPanel){n[n.length-1]=i.parentDynamicPanel;var s=e.getScriptIdFromPath(n);s=e.repeater.getElementId(s,t);var o=$obj(s);var u={parent:s};for(var a=0;a<o.diagrams.length;a++){var f=e.repeater.applySuffixToElementId(s,"_state"+a);var l=$jobj(f);if(l.find("#"+(r||t)).length!=0){u.state=a;break}}return u}if(n.length==1)return undefined;n.pop();var c=e.getScriptIdFromPath(n);c=e.repeater.getElementId(c,t);return d(c,n,r||t)};var v=function(t){var n=t?$jobj(t):$("#base");var r=n.children();var i={width:0,height:0};for(var s=0;s<r.length;s++){var o=$(r[s]);var u=o.attr("id");var a=$obj(u);if(!a){if(!o.hasClass("basiclink")||o.get(0).tagName.toLowerCase()!="a")continue;var f=o.children();if(!f.length)continue;o=$(f[0]);u=o.attr("id");a=$obj(u)}if(!u||e.visibility.limboIds[u]||!e.visibility.IsIdVisible(u))continue;if(a.type=="dynamicPanel"&&a.fixedHorizontal)continue;var l={left:Number(o.css("left").replace("px","")),top:Number(o.css("top").replace("px",""))};var c=o.width();var h=o.height();if(a.type=="master"){var p=v(u);c=p.width;h=p.height}else if(a.type=="dynamicPanel"){if(e.dynamicPanelManager.isIdFitToContent(u)){var d=$jobj(e.visibility.GetPanelState(u));c=d.width();h=d.height()}}i.width=Math.max(i.width,l.left+c);i.height=Math.max(i.height,l.top+h)}return i};var m=t.adjustFixed=function(t,n,r,i,s){var o=g(t,n,r,i,s);if(o){e.action.addAnimation(t,function(){e.move.MoveWidget(t,o[0],o[1],"none",0,false,null,true)})}};var g=t.getFixedPosition=function(e,t,n,r,i){var s=$obj(e);var o=0;var u=0;if(s.fixedHorizontal=="center"){o=(t-r)/2}if(s.fixedVertical=="middle"){u=(n-i)/2}return o==0&&u==0?undefined:[o,u]};t.getFixedInfo=function(e){var t=$obj(e);if(!t||t.type!="dynamicPanel")return{};var n=$jobj(e);if(n.css("position")=="absolute")return{};var r={};var i=t.fixedHorizontal;if(!i)return r;r.fixed=true;r.horizontal=i;r.vertical=t.fixedVertical;if(r.horizontal=="left")r.x=Number(n.css("left").replace("px",""));else if(r.horizontal=="center")r.x=Number(n.css("margin-left").replace("px",""));else if(r.horizontal=="right")r.x=Number(n.css("right").replace("px",""));if(r.vertical=="top")r.y=Number(n.css("top").replace("px",""));else if(r.vertical=="middle")r.y=Number(n.css("margin-top").replace("px",""));else if(r.vertical=="bottom")r.y=Number(n.css("bottom").replace("px",""));return r};var y=function(e,t,n,r,i){var s=l(e);var o=Number(s.css(t?"top":"left").replace("px",""));var u=c(e)[t?"height":"width"]();if(!n){o+=u;u*=-1}w(e,t,o,u,r,i)};t.compressToggle=y;var b=function(e,t,n,r,i,s){var o=$jobj(e);var u=$jobj(t);var a=$jobj(n);var f=r?"top":"left";var l=r?"height":"width";var c=Number(o.css(f).replace("px",""));c+=u[l]();var h=a[l]()-u[l]();var p=r?"left":"top";var d=r?"width":"height";var v=[Number(o.css(p).replace("px",""))];v[1]=v[0]+Math.max(u[d](),a[d]());w(e,r,c,h,i,s,v)};t.compressDelta=b;var w=function(t,n,r,i,s,o,u){if(!s){s="none";o=0}var a=e("#"+t).getParents()[0];var f=e.getObjectFromElementId(a);while(f&&f.type=="referenceDiagramObject"){a=e("#"+a).getParents()[0];f=e.getObjectFromElementId(a)}var p=l(t);var d=h(t);var v=n?"left":"top";var m=n?"width":"height";if(!u){u=[Number(p.css(v).replace("px",""))];u[1]=u[0]+d[m]()}if(isNaN(u[0])||isNaN(u[1])||isNaN(r)||isNaN(i))return;if(a&&$jobj(a+"_content").length>0)a=a+"_content";var g=$(a?"#"+a:"#base").children();for(var y=0;y<g.length;y++){var b=$(g[y]);if(b[0]&&b[0].tagName=="A"&&b.hasClass("basiclink"))b=b.children();var w=b.attr("id");if(w==t||!w||w[0]!="u")continue;var E=w.substring(1).split("-");if(E.length<1||isNaN(Number(E[0]))||E.length==2&&isNaN(Number(E[1]))||E.length>2)continue;var S=n?"top":"left";var x=Number(b.css(S).replace("px",""));var T=[Number(b.css(v).replace("px",""))];var N=c(w);T[1]=T[0]+N[m]();if(isNaN(x)||isNaN(T[0])||isNaN(T[1])||x<r||T[1]<=u[0]||T[0]>=u[1])continue;e("#"+w).moveBy(n?0:i,n?i:0,s=="none"?{}:{duration:o,easing:s})}};var E=function(t){var n=e("#"+t).getParents(true)[0];if(!n)return false;var r=true;for(var i=0;i<n.length;i++){var s=n[i];var o=e.repeater.getItemIdFromElementId(s);s=s.split("_")[0];if(o)s=e.repeater.createElementId(s,o);var u=$obj(s);if(u.type!="dynamicPanel")continue;if(!u.propagate){r=false;continue}return{id:s,direct:r}}return false};t.parentHandlesStyles=E;var S=function(e,t){T(e,true,t)};t.propagateMouseOver=S;var x=function(e,t){T(e,false,t)};t.propagateMouseDown=x;var T=function(t,n,r){var i=function(t){if(!t)return;for(var s=0;s<t.length;s++){var o=t[s].id;var u=$obj(o);if(u==null){o=o.split("_")[0];u=$obj(o)}if(u==null)continue;if(u.type=="dynamicPanel"&&!u.propagate)continue;if(n)e.style.SetWidgetHover(o,r);else e.style.SetWidgetMouseDown(o,r);e.annotation.updateLinkLocations(e.style.GetTextIdFromShape(o));i(t[s].children)}};i(e("#"+t).getChildren(true)[0].children)}})