$axure.internal(function(e){var t="dynamicPanel";var n="textBox";var r="textArea";var i="listBox";var s="comboBox";var o="checkbox";var u="radioButton";var a="button";var f="imageMapRegion";var l="imageBox";var c="buttonShape";var h="flowShape";var p="treeNodeObject";var d="tableCell";var v=[n,r,i,s,o,u,a];var m=function(t){e.public.fn[t]=function(){var e=$.fn[t].apply(this.jQuery(),arguments);return arguments[0]?this:e}};var g=["text","val","css"];for(var y=0;y<g.length;y++)m(g[y]);var b=function(t){e.public.fn[t]=function(){try{$.fn[t].apply(this.jQuery(),arguments)}catch(e){console.log("Couldn't find the event: "+t)}return this}};var w=["click","mouseenter","mouseleave","bind"];for(var y=0;y<w.length;y++)b(w[y]);e.public.fn.openLink=function(t,n){this.jQuery().each(function(){if(!$(this).is("iframe")){return}var r=$(this).get(0);e.navigate({url:t,target:"frame",includeVariables:n,frame:r})});return this};e.public.fn.SetPanelState=function(n,r,i){var s="none";var o="none";var u="";var a="";var f=500;var l=500;if(r&&r.animateIn){s="fade";u=E(r.animateIn);if(u!="")s="swing";if(r.animateIn.duration){f=r.animateIn.duration}}if(r&&r.animateOut){o="fade";a=E(r.animateOut);if(a!="")o="swing";if(r.animateOut.duration){l=r.animateOut.duration}}var c=this.getElementIds();for(var h=0;h<c.length;h++){var p=c[h];if(e.getTypeFromElementId(p)==t){var d=e.visibility.GetPanelStateId(p,Number(n)-1);var v=e.visibility.IsIdVisible(p);if(r.compress&&e.dynamicPanelManager.isIdFitToContent(p)&&v){e.dynamicPanelManager.compressDelta(p,e.visibility.GetPanelState(p),d,r.vertical,r.compressEasing,r.compressDuration)}e.visibility.SetPanelState(p,d,o,a,l,s,u,f,i);if(r.compress&&!v&&i){e.dynamicPanelManager.compressToggle(p,r.vertical,true,r.compressEasing,r.compressDuration)}}}return this};e.public.fn.show=function(t,n){var r=this.getElementIds();for(var i=0;i<r.length;i++){var s=r[i];var o=e.repeater.applySuffixToElementId(s,"_lightbox");var u=$jobj(o);if(t&&t.showType=="lightbox"){e.flyoutManager.unregisterPanel(s,true);if(u.length==0){u=$("<div></div>");u.attr("id",o);var a="rgb("+t.lightbox.r+","+t.lightbox.g+","+t.lightbox.b+")";u.css({position:"fixed",left:"0px",top:"0px",width:"10000px",height:"10000px","background-color":a,opacity:t.lightbox.a/255});var f=e("#"+s).getParents(true)[0];var l=undefined;for(var c=0;c<f.length;c++){var h=f[c].split("_")[0];var p=$obj(h);if(p.type=="dynamicPanel"&&($jobj(h).css("z-index")!="auto"||e.features.supports.mobile)){l=f[c];break}}if(!l)$("#base").append(u);else $jobj(l).append(u);var d=e.visibility.IsIdVisible(s);(function(t,n){e.event.attachClick(t,function(){e.action.addAnimation(s,function(){if(!d)n.hide();else e.action.fireAnimationFromQueue(s);t.remove()})})})(u,this)}e.legacy.BringToFront(o,true);e.legacy.BringToFront(s,true)}else if(t&&t.showType=="flyout"){u.remove();var v=n.thiswidget;var m=e.getWidgetInfo(s);var g={};if(v.valid)g.src=e.geometry.genRect(v);if(m.valid)g.target=e.geometry.genRect(m);e.flyoutManager.registerFlyout(g,s,n.srcElement);e.style.AddRolloverOverride(s);e.legacy.BringToFront(s)}else{u.remove();e.flyoutManager.unregisterPanel(s,true);S(s,true,t);if(t&&t.showType=="front")e.legacy.BringToFront(s);continue}S(s,true,t)}return this};var E=function(e){if(e&&e.easing){if(e.easing=="slideLeft"){return"left"}else if(e.easing=="slideRight"){return"right"}else if(e.easing=="slideUp"){return"up"}else if(e.easing=="slideDown"){return"down"}}return""};e.public.fn.hide=function(t){var n=this.getElementIds();for(var r=0;r<n.length;r++){var i=n[r];var s=e.visibility.IsIdVisible(i);S(i,false,t)}return this};e.public.fn.toggleVisibility=function(t){var n=t&&t.easing||"none";var r=t&&t.duration||0;var i=E(t);if(i!="")n="swing";var s=this.getElementIds();for(var o=0;o<s.length;o++){var u=s[o];var a=!e.visibility.IsIdVisible(u);S(u,a,t)}return this};var S=function(t,n,r){var i=r&&r.easing||"none";var s=r&&r.duration||0;var o=E(r);if(o!="")i="swing";var u=e.visibility.IsIdVisible(t);var a=r&&r.showType=="compress"&&u!=n;var f=false;var l=function(){if(a&&!f)e.dynamicPanelManager.compressToggle(t,r.vertical,n,r.compressEasing,r.compressDuration);f=true;e.dynamicPanelManager.fitParentPanel(t)};e.visibility.SetWidgetVisibility(t,{value:n,easing:i,direction:o,duration:s,fire:true,onComplete:l});if(a&&!f)e.dynamicPanelManager.compressToggle(t,r.vertical,n,r.compressEasing,r.compressDuration);f=true};e.public.fn.moveTo=function(t,n,r){var i="none";var s=500;if(r&&r.easing){i=r.easing;if(r.duration){s=r.duration}}var o=this.getElementIds();for(var u=0;u<o.length;u++){var a=o[u];e.move.MoveWidget(a,t,n,i,s,true,function(){e.dynamicPanelManager.fitParentPanel(a)},true)}return this};e.public.fn.moveBy=function(t,n,r){var i=this.getElementIds();if(t==0&&n==0){for(var s=0;s<i.length;s++){var o=this.getElementIds()[s];e.move.nopMove(o);e.event.raiseSyntheticEvent(o,"onMove");e.action.fireAnimationFromQueue(o)}return this}var u="none";var a=500;if(r&&r.easing){u=r.easing;if(r.duration){a=r.duration}}for(var f=0;f<i.length;f++){var l=i[f];e.move.MoveWidget(l,t,n,u,a,false,function(){e.dynamicPanelManager.fitParentPanel(l)},true)}return this};e.public.fn.bringToFront=function(){var t=this.getElementIds();for(var n=0;n<t.length;n++){e.legacy.BringToFront(t[n])}return this};e.public.fn.sendToBack=function(){var t=this.getElementIds();for(var n=0;n<t.length;n++){e.legacy.SendToBack(t[n])}return this};e.public.fn.text=function(){if(arguments[0]==undefined){var t=this.getElementIds()[0];if(!t){return undefined}return x(t)}else{var i=this.getElementIds();for(var s=0;s<i.length;s++){var o=i[s];var u=e.getTypeFromElementId(o);if(u==n||u==r){SetWidgetFormText(o,arguments[0])}else{var a="#"+o;if($(a).length==0)a="#u"+(Number(o.substring(1))+1);if($(a).length!=0){if($(a).find("p").find("span").length>0){$(a).find("p:not(:first)").remove();$(a).find("p").find("span:not(:first)").remove();var f=arguments[0].replace(/\n/g,"--NEWLINE--");var l=$("<div/>").text(f).html();$(a).find("span").html(l.replace(/--NEWLINE--/g,"<br>"))}}}}return this}};var x=function(t){var n=$jobj(t);var r=$jobj(e.INPUT(t));if(r.length)n=r;if(n.is("input")&&(n.attr("type")=="checkbox"||n.attr("type")=="radio")){n=n.parent().find("label").find("div")}if(n.is("div")){var i=n.hasClass("text")?n:n.find(".text");if(i.length==0)return undefined;var s="";i.children("p").each(function(e){if(e!=0)s+="\n";var t=$(this).html().replace(/<br[^>]*>/ig,"\n").replace(/&nbsp;/ig," ");s+=$(t).text()});return s}else{var o=n.val();return o==undefined?"":o}};e.public.fn.setRichTextHtml=function(){if(arguments[0]==undefined){return undefined}else{var t=this.getElementIds();for(var i=0;i<t.length;i++){var s=t[i];var o=e.getTypeFromElementId(s);if(o==n||o==r){continue}else{var u="#"+s;if($(u).length==0)u="#u"+(parseInt(s.substring(1))+1);if($(u).length!=0)SetWidgetRichText(u,arguments[0])}}return this}};e.public.fn.value=function(){if(arguments[0]==undefined){var t=this.getElementIds()[0];if(!t){return undefined}var r=e.getTypeFromElementId(t);if(r==s||r==i){return $("#"+t+" :selected").text()}else if(r==o||r==u){return $("#"+t+"_input").is(":checked")}else if(r==n){return $("#"+t+"_input").val()}else{return this.jQuery().first().val()}}else{var a=this.getElementIds();for(var f=0;f<a.length;f++){var r=e.getTypeFromElementId(a[f]);var l=$("#"+a[f]);if(r==o||r==u){if(arguments[0]==true){l.attr("checked",true)}else if(arguments[0]==false){l.removeAttr("checked")}}else{l.val(arguments[0])}}return this}};e.public.fn.checked=function(){if(arguments[0]==undefined){return this.selected()}else{this.selected(arguments[0]);return this}};var T=function(e,t){var n=e;var r=0;while(n!=null&&n.tagName!="BODY"){r+=n.offsetLeft;n=n.offsetParent;if(n==t)break}return r};var N=function(e,t){var n=e;var r=0;while(n!=null&&n.tagName!="BODY"){r+=n.offsetTop;n=n.offsetParent;if(n==t)break}return r};var C=function(t,n,r,i,s){var o=window.document.getElementById(t);var u=e.legacy.GetScrollable(o);var a=T(o,u);var f=N(o,u);if(!n)a=u.scrollLeft;if(!r)f=u.scrollTop;var l=$(u);if(l.is("body")){l=$("html,body")}if(i=="none"){if(r)l.scrollTop(f);if(n)l.scrollLeft(a)}else{if(!n){l.animate({scrollTop:f},s,i)}else if(!r){l.animate({scrollLeft:a},s,i)}else{l.animate({scrollTop:f,scrollLeft:a},s,i)}}};e.public.fn.scroll=function(e){var t="none";var n=500;if(e&&e.easing){t=e.easing;if(e.duration){n=e.duration}}var r=true;var i=true;if(e.direction=="vertical"){r=false}else if(e.direction=="horizontal"){i=false}var s=this.getElementIds();for(var o=0;o<s.length;o++){C(s[o],r,i,t,n)}return this};e.public.fn.enabled=function(){if(arguments[0]==undefined){var n=this.getElementIds()[0];if(!n)return undefined;var r=e.getTypeFromElementId(n);if(r==l||r==c||r==h)return!e.style.IsWidgetDisabled(n);else return this.jQuery().first().not(":disabled").length>0}else{var i=this.getElementIds();for(var s=0;s<i.length;s++){var o=i[s];var r=e.getTypeFromElementId(o);var u=arguments[0];if(r==l||r==c||r==h)e.style.SetWidgetEnabled(o,u);if(r==t){e.style.SetWidgetEnabled(o,u);var a=this.getChildren()[s].children;for(var f=0;f<a.length;f++){var p=a[f];var d="_container";if(p.length>d.length&&p.substring(p.length-d.length)==d){p=p.substring(0,p.length-d.length)}$axure("#"+p).enabled(u)}}var m=$obj(o);var g=m.images;if(v.indexOf(r)!=-1&&g){var y=$jobj(e.repeater.applySuffixToElementId(o,"_image_sketch"));var b=(u?"normal~":"disabled~")+(e.adaptive.currentViewId||"");y.attr("src",g[b])}var w=$jobj(o);var E=$jobj(e.INPUT(o));if(E.length)w=E;if(OS_MAC&&WEBKIT&&r=="comboBox")w.css("color",u?"":"grayText");if(u)w.removeAttr("disabled");else w.attr("disabled","disabled")}return this}};e.public.fn.visible=function(){var t=this.getElementIds();for(var n=0;n<t.length;n++)e.visibility.SetIdVisible(t[n],arguments[0]);return this};e.public.fn.selected=function(){if(arguments[0]==undefined){var n=this.getElementIds()[0];if(!n)return undefined;var r=e.getTypeFromElementId(n);if(r==p){var i="";var s=e.getAllElementIds();for(var a=0;a<s.length;a++){var f=s[a];var v=e.getObjectFromElementId(f);if(v.type==c&&v.parent&&v.parent.scriptIds&&v.parent.scriptIds[0]==n){i=f;break}}if(i=="")return undefined;return e.style.IsWidgetSelected(i)}else if(r==l||r==c||r==h||r==d|r==t){return e.style.IsWidgetSelected(n)}else if(r==o||r==u){return $jobj(e.INPUT(n)).prop("checked")}return this}var m=this.getElementIds();var g=typeof arguments[0]==="function"?arguments[0]:null;var y=arguments[0];for(var b=0;b<m.length;b++){var f=m[b];if(g){y=g($axure("#"+f))}var r=e.getTypeFromElementId(f);if(r==p){var w=$("#"+m[b]).parents(".treeroot").attr("id");var i="";var E=$jobj(f).children();for(var a=0;a<E.length;a++){var f=E[a].id;var v=e.getObjectFromElementId(f);if(v&&v.type==c&&v.parent&&v.parent.scriptIds&&v.parent.scriptIds[0]==m[b]){i=f;break}}if(i=="")continue;e.tree.SelectTreeNode(f,y)}else if(r==l||r==c||r==h||r==d||r==t){e.style.SetWidgetSelected(m[b],y)}else if(r==o||r==u){var S=$jobj(e.INPUT(f));var x=S.prop("checked");if(x!=y){S.prop("checked",y);e.event.TryFireCheckChanged(f,y)}}}return this};e.public.fn.focus=function(){var t=this.getElementIds()[0];var n=e.event.getFocusableWidgetOrChildId(t);$("#"+n).focus();return this};e.public.fn.expanded=function(){if(arguments[0]==undefined){var t=this.getElementIds()[0];return t&&e.getTypeFromElementId(t)!==p&&e.visibility.IsIdVisible(t+"_children")}else{var n=this.getElementIds();for(var r=0;r<n.length;r++){if(e.getTypeFromElementId(n[r])==p){var i=n[r];var s=i+"_children";var o=e.repeater.getScriptIdFromElementId(i);var u=e.repeater.getItemIdFromElementId(i);var a="u"+(parseInt(o.substring(1))+1);if(u)a=e.repeater.createElementId(a,u);if($("#"+s).length==0||!$jobj(a).hasClass("ax_image"))a="";if(arguments[0]==true){e.tree.ExpandNode(i,s,a)}else if(arguments[0]==false){e.tree.CollapseNode(i,s,a)}}}return this}}})