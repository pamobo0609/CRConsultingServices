$axure.internal(function(e){var t=e.expr={};var n={"&&":function(t,n){return e.getBool(t)&&e.getBool(n)},"||":function(t,n){return e.getBool(t)||e.getBool(n)},"==":function(e,t){return r(e,t)},"!=":function(e,t){return!r(e,t)},">":function(e,t){return e>Number(t)},"<":function(e,t){return e<Number(t)},">=":function(e,t){return e>=Number(t)},"<=":function(e,t){return e<=Number(t)}};var r=function(t,n){if(t instanceof Date&&n instanceof Date){if(t.getMilliseconds()!=n.getMilliseconds())return false;if(t.getSeconds()!=n.getSeconds())return false;if(t.getMinutes()!=n.getMinutes())return false;if(t.getHours()!=n.getHours())return false;if(t.getDate()!=n.getDate())return false;if(t.getMonth()!=n.getMonth())return false;if(t.getYear()!=n.getYear())return false;return true}if(t instanceof Object&&n instanceof Object){var i;for(i in t){if(!t.hasOwnProperty(i))continue;if(!n.hasOwnProperty(i))return false;if(!r(t[i],n[i]))return false}for(i in n){if(t.hasOwnProperty(i)!=n.hasOwnProperty(i))return false}return true}return e.getBool(t)==e.getBool(n)};var i={};i.array=function(e,t){var n=[];for(var r=0;r<e.items.length;r++){n[n.length]=a(e.items[r],t)}return n};i.binaryOp=function(e,t){var r=e.leftExpr&&a(e.leftExpr,t);var i=e.rightExpr&&a(e.rightExpr,t);if(r==undefined||i==undefined)return false;return n[e.op](r,i)};i.block=function(e,t){var n=e.subExprs;for(var r=0;r<n.length;r++){a(n[r],t)}};i.booleanLiteral=function(e){return e.value};i.nullLiteral=function(){return null};i.pathLiteral=function(t,n){if(t.isThis)return[n.srcElement];if(t.isFocused&&window.lastFocusedControl){e("#"+window.lastFocusedControl).focus();return[window.lastFocusedControl]}if(t.isTarget)return[n.targetElement];return e.getElementIdsFromPath(t.value,n)};i.panelDiagramLiteral=function(t,n){var r=e.getElementIdsFromPath(t.panelPath,n);var i=[];var s="_state"+t.panelIndex;for(var o=0;o<r.length;o++){i[o]=e.repeater.applySuffixToElementId(r[o],s)}return String($jobj(i).data("label"))};i.fcall=function(e,t){var n=t.targetElement;var r=[];var i=[];var s=e.arguments;for(var u=0;u<e.arguments.length;u++){var f=s[u];var l="";if(r.length){for(var c=0;c<r.length;c++){if(f==null){i[c][u]=null;continue}t.targetElement=r[c];l=a(f,t);if(typeof l=="undefined")return"";i[c][u]=l}}else{if(f==null){i[u]=null;continue}l=a(f,t);if(typeof l=="undefined")return"";i[u]=l}if(f&&f.exprType=="pathLiteral"){r=l;for(c=0;c<r.length;c++)i[c]=[[l[c]]]}}t.targetElement=n;var h="";if(r.length){for(u=r.length-1;u>=0;u--){var p=i[u];p[p.length]=t;h=o[e.functionName].apply(this,p)}}else i[i.length]=t;return r.length?h:o[e.functionName].apply(this,i)};i.globalVariableLiteral=function(e){return e.variableName};i.keyPressLiteral=function(e){var t={};t.keyCode=e.keyCode;t.ctrl=e.ctrl;t.alt=e.alt;t.shift=e.shift;return t};i.adaptiveViewLiteral=function(e){return e.id};var s=function(t,n){var r={};for(var i in t.localVariables){r[i]=e.expr.evaluateExpr(t.localVariables[i],n)}var s=0;var o;var u=t.value.replace(/\[\[(?!\[)(.*?)\]\](?=\]*)/g,function(i){var u=t.stos[s++];if(u.sto=="error")return i;try{var a=e.evaluateSTO(u,r,n)}catch(f){return i}if(a instanceof Object&&s==1&&t.value.substring(0,2)=="[["&&t.value.substring(t.value.length-2)=="]]"){o=a}return a instanceof Object&&(a.label||a.text)||a});if(s!=1)o=false;return o||u};i.htmlLiteral=function(e,t){return s(e,t)};i.stringLiteral=function(e,t){return s(e,t)};var o={};o.SetCheckState=function(t,n){var r=n=="toggle";var i=Boolean(n)&&n!="false";for(var s=0;s<t.length;s++){var o=e("#"+t[s]);o.selected(r?!o.selected():i)}};o.SetSelectedOption=function(t,n){for(var r=0;r<t.length;r++){var i=t[r];var s=$jobj(e.INPUT(i));if(s.val()==n)return;s.val(n);if(e.event.HasSelectionChanged(e.getObjectFromElementId(i)))e.event.raiseSyntheticEvent(i,"onSelectionChange")}};o.SetGlobalVariableValue=function(t,n){e.globalVariableProvider.setVariableValue(t,n)};o.SetWidgetFormText=function(t,n){for(var r=0;r<t.length;r++){var i=t[r];var s=e.repeater.applySuffixToElementId(i,"_input");var o=$jobj(s);if(o.val()==n||n==""&&e.placeholderManager.isActive(i))return;o.val(n);e.placeholderManager.updatePlaceholder(i,!n);if(e.event.HasTextChanged(e.getObjectFromElementId(i)))e.event.TryFireTextChanged(i)}};o.SetFocusedWidgetText=function(e,t){if(window.lastFocusedControl){var e=window.lastFocusedControl;var n=$obj(e).type;if(n=="textBox"||n=="textArea")o.SetWidgetFormText([e],t);else o.SetWidgetRichText([e],t,true)}};o.GetRtfElementHeight=function(e){if(e.innerHTML=="")e.innerHTML="&nbsp;";return e.offsetHeight};o.SetWidgetRichText=function(t,n,r){n=o.ToString(n);n=n.replace(/\r\n/g,"<br>").replace(/\n/g,"<br>");for(var i=0;i<t.length;i++){var s=t[i];var u=$obj(s).type;if(u!="richTextPanel"&&u!="hyperlink"){s=$jobj(s).find(".text")[0].id}var a=window.document.getElementById(s);e.visibility.SetVisible(a,true);e.style.transformTextWithVerticalAlignment(s,function(){var e=$jobj(s).find("span");if(r){var t=$("<span></span>");if(e.length>0){t.attr("style",$(e[0]).attr("style"));t.attr("id",$(e[0]).attr("id"))}t.html(n);var i=$("<p></p>");var o=$jobj(s).find("p");if(o.length>0){i.attr("style",$(o[0]).attr("style"));i.attr("id",$(o[0]).attr("id"))}i.append(t);n=$("<div></div>").append(i).html()}a.innerHTML=n});if(!r)e.style.CacheOriginalText(s,true)}};o.GetCheckState=function(t){return e("#"+t[0]).selected()};o.GetSelectedOption=function(t){return $jobj(e.INPUT(t[0]))[0].value};o.GetNum=function(e){return isNaN(e)?e:Number(e)};o.GetGlobalVariableValue=function(t){return e.globalVariableProvider.getVariableValue(t)};o.GetGlobalVariableLength=function(e){return o.GetGlobalVariableValue(e).length};o.GetWidgetText=function(t){if(e.placeholderManager.isActive(t[0]))return"";var n=e.INPUT(t[0]);return e("#"+($jobj(n).length?n:t[0])).text()};o.GetFocusedWidgetText=function(){if(window.lastFocusedControl){return e("#"+window.lastFocusedControl).text()}else{return""}};o.GetWidgetValueLength=function(t){var n=t[0];if(!n)return undefined;if(e.placeholderManager.isActive(n))return 0;var r=$jobj(e.INPUT(n));if(!r.length)r=$jobj(n);var i=r[0].value||o.GetWidgetText([n]);return i.length};o.GetPanelState=function(t){var n=t[0];if(!n)return undefined;var r=e.visibility.GetPanelState(n);return r&&String($jobj(r).data("label"))};o.GetWidgetVisibility=function(t){var n=t[0];if(!n)return undefined;return e.visibility.IsIdVisible(n)};o.IsValueAlpha=function(e){var t=new RegExp("^[a-z\\s]+$","gi");return t.test(e)};o.IsValueNumeric=function(e){var t=new RegExp("^[0-9,\\.\\s]+$","gi");return t.test(e)};o.IsValueAlphaNumeric=function(e){var t=new RegExp("^[0-9a-z\\s]+$","gi");return t.test(e)};o.IsValueOneOf=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e==r)return true}return false};o.IsValueNotAlpha=function(e){return!o.IsValueAlpha(e)};o.IsValueNotNumeric=function(e){return!o.IsValueNumeric(e)};o.IsValueNotAlphaNumeric=function(e){return!o.IsValueAlphaNumeric(e)};o.IsValueNotOneOf=function(e,t){return!o.IsValueOneOf(e,t)};o.GetKeyPressed=function(e){return e.keyInfo};o.GetCursorRectangles=function(){var t=new Object;t.lastRect=new e.drag.Rectangle(e.lastMouseLocation.x,e.lastMouseLocation.y,1,1);t.currentRect=new e.drag.Rectangle(e.mouseLocation.x,e.mouseLocation.y,1,1);return t};o.GetWidgetRectangles=function(t,n){var r=new Object;var i=$jobj(t);var s=i.length==0;var o=i;while(o.length!=0&&!o.is("body")){if(o.css("display")=="none"){s=true;break}o=o.parent()}if(s){r.lastRect=r.currentRect=new e.drag.Rectangle(-1,-1,-1,-1);return r}r.lastRect=new e.drag.Rectangle(e.legacy.getAbsoluteLeft(i),e.legacy.getAbsoluteTop(i),i.width(),i.height());r.currentRect=r.lastRect;return r};o.GetWidget=function(t){return e.getWidgetInfo(t[0])};o.GetAdaptiveView=function(){return e.adaptive.currentViewId||""};o.IsEntering=function(e,t){return!e.lastRect.IntersectsWith(t.currentRect)&&e.currentRect.IntersectsWith(t.currentRect)};o.IsLeaving=function(e,t){return e.lastRect.IntersectsWith(t.currentRect)&&!e.currentRect.IntersectsWith(t.currentRect)};var u=o.IsOver=function(e,t){return e.currentRect.IntersectsWith(t.currentRect)};o.IsNotOver=function(e,t){return!u(e,t)};o.ValueContains=function(e,t){return e.indexOf(t)>-1};o.ValueNotContains=function(e,t){return!o.ValueContains(e,t)};o.ToString=function(e){if(e.isWidget){return e.text}return String(e)};var a=e.expr.evaluateExpr=function(e,t,n){if(e===undefined||e===null)return undefined;var r=i[e.exprType](e,t);return n?o.ToString(r):r}})