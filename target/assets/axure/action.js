$axure.internal(function(e){var t={};var n=e.action={};var r={};var i=function(e){return r[e]&&r[e][0]};var s=n.addAnimation=function(e,t){var n=!i(e);var s=r[e];if(!s){r[e]=s=[]}s[s.length]=t;if(n)t()};var o=n.fireAnimationFromQueue=function(t){if(r[t])e.splice(r[t],0,1);var n=i(t);if(n)n()};var u=[];n.refreshStart=function(e){u.push(e)};n.refreshEnd=function(){u.pop()};var a=n.repeatersToRefresh=[];var f=function(e){for(var t=0;t<u.length;t++)if(u[t]==e)return true;return false};var l=function(e){if(a.indexOf(e)==-1)a.push(e)};var c=e.action.dispatchAction=function(e,n,r){r=r||0;if(r>=n.length)return;t[n[r].action](e,n,r)};t.wait=function(t,n,r){var i=n[r];var s=e.eventCopy(t);window.setTimeout(function(){s.now=new Date;c(s,n,r+1)},i.waitTime)};t.expr=function(t,n,r){var i=n[r];e.expr.evaluateExpr(i.expr,t);c(t,n,r+1)};t.setFunction=t.expr;t.linkWindow=function(e,t,n){h(e,t,n)};t.closeCurrent=function(t,n,r){e.closeWindow();c(t,n,r+1)};t.linkFrame=function(e,t,n){h(e,t,n)};var h=function(t,n,r){var i=n[r];t.link=true;if(i.linkType!="frame"){var s=p(i.target,t);if(i.target.targetType=="reloadPage"){e.reload(i.target.includeVariables)}else if(i.target.targetType=="backUrl"){e.back()}var o=i.target.url;if(!o&&i.target.urlLiteral){o=e.expr.evaluateExpr(i.target.urlLiteral,t,true)}if(o){if(i.linkType=="popup"){e.navigate({url:o,target:i.linkType,includeVariables:s,popupOptions:i.popup})}else{e.navigate({url:o,target:i.linkType,includeVariables:s})}}}else d(t,i);t.link=false;c(t,n,r+1)};var p=function(t,n){if(t.includeVariables)return true;if(t.urlLiteral){var r=t.urlLiteral;var i=r.stos[0];if(r.exprType=="stringLiteral"&&r.value.indexOf("[[")==0&&r.value.indexOf("]]"==r.value.length-2)&&r.stos.length==1&&i.sto=="item"&&n.item){var s=e.repeater.getData(n.item.repeater.elementId,n.item.index,i.name,"data");if(s&&s.type=="page")return true}}return false};var d=function(t,n){for(var r=0;r<n.framesToTargets.length;r++){var i=n.framesToTargets[r].framePath;var s=n.framesToTargets[r].target;var o=p(s,t);var u=s.url;if(!u&&s.urlLiteral){u=e.expr.evaluateExpr(s.urlLiteral,t,true)}e("#"+e.INPUT(e.getElementIdsFromPath(i,t)[0])).openLink(u,o)}};var v={};t.setPanelState=function(t,n,r){var i=n[r];for(var o=0;o<i.panelsToStates.length;o++){var u=i.panelsToStates[o];var a=u.stateInfo;var f=e.getElementIdsFromPath(u.panelPath,t);for(var l=0;l<f.length;l++){var h=f[l];(function(n,r){s(n,function(){var i=r.stateNumber;if(r.setStateType=="value"){var s=t.targetElement;t.targetElement=n;var o=e.expr.evaluateExpr(r.stateValue,t);t.targetElement=s;var u=e.getObjectFromElementId(n).diagrams;var a=false;for(var f=0;f<u.length;f++){if(u[f].label==o){i=f+1;a=true}}if(!a){i=Number(o);var l=$("#"+n).children().length;if(isNaN(i)||i<=0||i>l||Math.round(i)!=i)return e.action.fireAnimationFromQueue(n)}}else if(r.setStateType=="next"||r.setStateType=="previous"){var c=e.deepCopy(r);var h=c.repeat;if(typeof h=="number")v[n]=c;return m(n,c)}delete v[n];if(r.setStateType=="current")return e.action.fireAnimationFromQueue(n);e("#"+n).SetPanelState(i,r.options,r.showWhenSet)})})(h,a)}}c(t,n,r+1)};var m=function(t,n){var r=n.setStateType;var i=n.loop;var o=n.repeat;var u=n.options;var a=typeof o=="number";var f=e.visibility.GetPanelState(t);var l="";if(f!=""){f=e.repeater.getScriptIdFromElementId(f);var c=Number(f.substr(f.indexOf("state")+5));if(r=="next"){l=c+2;if(l>$("#"+t).children().length){if(i)l=1;else{delete v[t];return e.action.fireAnimationFromQueue(t)}}}else if(r=="previous"){l=c;if(l<=0){if(i)l=$("#"+t).children().length;else{delete v[t];return e.action.fireAnimationFromQueue(t)}}}e("#"+t).SetPanelState(l,u,n.showWhenSet);if(a){var h=u&&u.animateIn;if(h&&h.easing&&h.easing!="none"&&h.duration>o)o=h.duration;h=u&&u.animateOut;if(h&&h.easing&&h.easing!="none"&&h.duration>o)o=h.duration;window.setTimeout(function(){if(v[t]!=n)return;s(t,function(){m(t,n)})},o)}else delete v[t]}};t.fadeWidget=function(t,n,r){var i=n[r];for(var o=0;o<i.objectsToFades.length;o++){var u=i.objectsToFades[o].fadeInfo;var a=e.getElementIdsFromPath(i.objectsToFades[o].objectPath,t);for(var f=0;f<a.length;f++){var l=a[f];(function(n,r){s(n,function(){if(r.fadeType=="hide"){e("#"+n).hide(r.options)}else if(r.fadeType=="show"){e("#"+n).show(r.options,t)}else if(r.fadeType=="toggle"){e("#"+n).toggleVisibility(r.options)}})})(l,u)}}c(t,n,r+1)};t.moveWidget=function(t,n,r){var i=n[r];for(var u=0;u<i.objectsToMoves.length;u++){var a=i.objectsToMoves[u].moveInfo;var f=e.getElementIdsFromPath(i.objectsToMoves[u].objectPath,t);for(var l=0;l<f.length;l++){var h=f[l];(function(n,r){var i=t.targetElement;t.targetElement=n;var u=e.expr.evaluateExpr(r.xValue,t);var a=e.expr.evaluateExpr(r.yValue,t);t.targetElement=i;var f=t.dragInfo;s(n,function(){if(r.moveType=="location"){e("#"+n).moveTo(u,a,r.options)}else if(r.moveType=="delta"){e("#"+n).moveBy(u,a,r.options)}else if(r.moveType=="drag"){e("#"+n).moveBy(f.xDelta,f.yDelta,r.options)}else if(r.moveType=="dragX"){e("#"+n).moveBy(f.xDelta,0,r.options)}else if(r.moveType=="dragY"){e("#"+n).moveBy(0,f.yDelta,r.options)}else if(r.moveType=="locationBeforeDrag"){var i=f.movedWidgets[n];if(i)e("#"+n).moveTo(i.x,i.y,r.options);else o(n)}else if(r.moveType=="withThis"){var s=e.move.GetWidgetMoveInfo();var l=e.getElementIdsFromEventAndScriptId(t,t.srcElement)[0];var c=s[l];e("#"+n).moveBy(c.x,c.y,c.options)}})})(h,a)}}c(t,n,r+1)};t.setWidgetSize=function(t,n,r){var i=n[r];for(var u=0;u<i.objectsToResize.length;u++){var a=i.objectsToResize[u].sizeInfo;var f=e.getElementIdsFromPath(i.objectsToResize[u].objectPath,t);for(var l=0;l<f.length;l++){var h=f[l];(function(n,r){var i=t.targetElement;t.targetElement=n;var u=e.expr.evaluateExpr(r.width,t);var a=e.expr.evaluateExpr(r.height,t);t.targetElement=i;s(n,function(){var t=$jobj(n);var i=t.css("width");i=Number(i&&i.substring(0,i.length-2));var s=t.css("height");s=Number(s&&s.substring(0,s.length-2));u=u!=""?Number(u):i;a=a!=""?Number(a):s;u=isNaN(u)?i:u;a=isNaN(a)?s:a;u=Math.max(u,0);a=Math.max(a,0);if(a==s&&u==i){o(n);return}var f={width:u,height:a};var l=$obj(n);if(l.percentWidth)f={height:a};e.dynamicPanelManager.setFitToContentCss(n,false,i,s);var c=r.easing||"none";var h=r.duration||0;var p=e.deepCopy(f);if(l.fixedHorizontal&&l.fixedHorizontal=="center"||l.fixedVertical&&l.fixedVertical=="middle"){var d=e.dynamicPanelManager.getFixedPosition(n,i,s,u,a);if(d){if(d[0]!=0&&!e.dynamicPanelManager.isPercentWidthPanel(l))f["margin-left"]="+="+d[0];if(d[1]!=0)f["margin-top"]="+="+d[1]}}var v=function(){e.flyoutManager.updateFlyout(n);e.dynamicPanelManager.fitParentPanel(n);e.dynamicPanelManager.updatePanelPercentWidth(n);e.dynamicPanelManager.updatePanelContentPercentWidth(n);e.event.raiseSyntheticEvent(n,"onResize");o(n)};if(c=="none"){t.animate(f,0);t.children().animate(p,0);v()}else{t.children().animate(p,h,c);t.animate(f,h,c,v)}})})(h,a)}}c(t,n,r+1)};t.setPanelOrder=function(t,n,r){var i=n[r];for(var s=0;s<i.panelPaths.length;s++){var o=i.panelPaths[s].setOrderInfo.bringToFront?"bringToFront":"sendToBack";var u=e.getElementIdsFromPath(i.panelPaths[s].panelPath,t);for(var a=0;a<u.length;a++)e("#"+u[a])[o]()}c(t,n,r+1)};t.modifyDataSetEditItems=function(t,n,r){var i=n[r];var s=i.repeatersToAddTo;var o=s||i.repeatersToRemoveFrom;var u;for(var a=0;a<o.length;a++){var f=o[a];var l=e.getElementIdsFromPath(f.path,t)[0];if(f.addType=="this"){var h=e.repeater.getScriptIdFromElementId(t.srcElement);u=e.repeater.getItemIdFromElementId(t.srcElement);var p=e.getParentRepeaterFromScriptId(h);if(s)e.repeater.addEditItems(p,[u]);else e.repeater.removeEditItems(p,[u])}else if(f.addType=="all"){var d=e.repeater.getAllItemIds(l);if(s)e.repeater.addEditItems(l,d);else e.repeater.removeEditItems(l,d)}else{var v=t.targetElement;var m=e.repeater.getAllItemIds(l);var g=[];for(var y=0;y<m.length;y++){u=m[y];t.targetElement=e.repeater.createElementId(l,u);if(e.expr.evaluateExpr(f.query,t)=="true"){g[g.length]=String(u)}t.targetElement=v}if(s)e.repeater.addEditItems(l,g);else e.repeater.removeEditItems(l,g)}}c(t,n,r+1)};n.repeaterInfoNames={addItemsToDataSet:"dataSetsToAddTo",deleteItemsFromDataSet:"dataSetItemsToRemove",updateItemsInDataSet:"dataSetsToUpdate",addFilterToRepeater:"repeatersToAddFilter",removeFilterFromRepeater:"repeatersToRemoveFilter",addSortToRepeater:"repeaterToAddSort",removeSortFromRepeater:"repeaterToRemoveSort",setRepeaterToPage:"repeatersToSetPage",setItemsPerRepeaterPage:"repeatersToSetItemCount"};t.addItemsToDataSet=function(t,n,r){var i=n[r];for(var s=0;s<i.dataSetsToAddTo.length;s++){var o=i.dataSetsToAddTo[s];var u=e.getElementIdsFromPath(o.path,t)[0];if(f(u))continue;var a=o.data;for(var h=0;h<a.length;h++)e.repeater.addItem(u,e.deepCopy(a[h]),t);if(a.length)l(u)}c(t,n,r+1)};t.deleteItemsFromDataSet=function(t,n,r){var i=n[r];for(var s=0;s<i.dataSetItemsToRemove.length;s++){var o=i.dataSetItemsToRemove[s];var u=e.getElementIdsFromPath(o.path,t)[0];if(f(u))continue;e.repeater.deleteItems(u,t,o.type,o.rule);l(u)}c(t,n,r+1)};t.updateItemsInDataSet=function(t,n,r){var i=n[r];for(var s=0;s<i.dataSetsToUpdate.length;s++){var o=i.dataSetsToUpdate[s];var u=e.getElementIdsFromPath(o.path,t)[0];if(f(u))continue;e.repeater.updateEditItems(u,o.props,t,o.type,o.rule);l(u)}c(t,n,r+1)};t.setRepeaterToDataSet=function(t,n,r){var i=n[r];for(var s=0;s<i.repeatersToSet.length;s++){var o=i.repeatersToSet[s];var u=e.getElementIdsFromPath(o.path,t)[0];e.repeater.setDataSet(u,o.localDataSetId)}c(t,n,r+1)};t.addFilterToRepeater=function(t,n,r){var i=n[r];for(var s=0;s<i.repeatersToAddFilter.length;s++){var o=i.repeatersToAddFilter[s];var u=e.getElementIdsFromPath(o.path,t)[0];if(f(u))continue;e.repeater.addFilter(u,o.label,o.filter,t.srcElement);l(u)}c(t,n,r+1)};t.removeFilterFromRepeater=function(t,n,r){var i=n[r];for(var s=0;s<i.repeatersToRemoveFilter.length;s++){var o=i.repeatersToRemoveFilter[s];var u=e.getElementIdsFromPath(o.path,t)[0];if(f(u))continue;if(o.removeAll)e.repeater.removeFilter(u);else if(o.filterName!=""){e.repeater.removeFilter(u,o.filterName)}l(u)}c(t,n,r+1)};t.addSortToRepeater=function(t,n,r){var i=n[r];for(var s=0;s<i.repeatersToAddSort.length;s++){var o=i.repeatersToAddSort[s];var u=e.getElementIdsFromPath(o.path,t)[0];if(f(u))continue;e.repeater.addSort(u,o.label,o.columnName,o.ascending,o.toggle,o.sortType);l(u)}c(t,n,r+1)};t.removeSortFromRepeater=function(t,n,r){var i=n[r];for(var s=0;s<i.repeatersToRemoveSort.length;s++){var o=i.repeatersToRemoveSort[s];var u=e.getElementIdsFromPath(o.path,t)[0];if(f(u))continue;if(o.removeAll)e.repeater.removeSort(u);else if(o.sortName!="")e.repeater.removeSort(u,o.sortName);l(u)}c(t,n,r+1)};t.setRepeaterToPage=function(t,n,r){var i=n[r];for(var s=0;s<i.repeatersToSetPage.length;s++){var o=i.repeatersToSetPage[s];var u=e.getElementIdsFromPath(o.path,t)[0];if(f(u))continue;var a=t.targetElement;t.targetElement=u;e.repeater.setRepeaterToPage(u,o.pageType,o.pageValue,t);t.targetElement=a;l(u)}c(t,n,r+1)};t.setItemsPerRepeaterPage=function(t,n,r){var i=n[r];for(var s=0;s<i.repeatersToSetItemCount.length;s++){var o=i.repeatersToSetItemCount[s];var u=e.getElementIdsFromPath(o.path,t)[0];if(f(u))continue;if(o.noLimit)e.repeater.setNoItemLimit(u);else e.repeater.setItemLimit(u,o.itemCountValue,t);l(u)}c(t,n,r+1)};t.refreshRepeater=function(t,n,r){var i=n[r];for(var s=0;s<i.repeatersToRefresh.length;s++){g(e.getElementIdsFromPath(i.repeatersToRefresh[s],t)[s],t)}c(t,n,r+1)};var g=function(t,n){var r=a.indexOf(t);if(r==-1)return;e.splice(a,r,1);e.repeater.refreshRepeater(t,n)};n.tryRefreshRepeaters=function(e,t){for(var n=0;n<e.length;n++)g(e[n],t)};t.scrollToWidget=function(t,n,r){var i=n[r];var s=e.getElementIdsFromPath(i.objectPath,t);if(s.length>0)e("#"+s[0]).scroll(i.options);c(t,n,r+1)};t.enableDisableWidgets=function(t,n,r){var i=n[r];for(var s=0;s<i.pathToInfo.length;s++){var o=e.getElementIdsFromPath(i.pathToInfo[s].objectPath,t);var u=i.pathToInfo[s].enableDisableInfo.enable;for(var a=0;a<o.length;a++)e("#"+o[a]).enabled(u)}c(t,n,r+1)};t.setImage=function(t,n,r){var i=t.targetElement;var s=n[r];var o=e.adaptive.currentViewId;t.image=true;for(var u=0;u<s.imagesToSet.length;u++){var a=s.imagesToSet[u];a=o?a.adaptive[o]:a.base;var f=e.getElementIdsFromPath(s.imagesToSet[u].objectPath,t);for(var l=0;l<f.length;l++){var h=f[l];t.targetElement=h;var p=y(a,t);var d=p.normal;if(e.style.IsWidgetDisabled(h)){if(a.disabled)d=p.disabled}else if(e.style.IsWidgetSelected(h)){if(a.selected)d=p.selected}else if(e.event.mouseDownObjectId==h&&a.mouseDown)d=p.mouseDown;else if(e.event.mouseOverIds.indexOf(h)!=-1&&a.mouseOver){d=p.mouseOver;var v=e.event.mouseOverIds.indexOf(e.event.mouseOverObjectId);var m=e.event.mouseOverIds.indexOf(h);if(v<m)e.event.mouseOverObjectId=h}$jobj(e.style.GetImageIdFromShape(h)).attr("src",d);e.style.mapElementIdToImageOverrides(h,p);e.style.updateElementIdImageStyle(h)}}t.targetElement=i;t.image=false;c(t,n,r+1)};var y=function(t,n){var r={};for(var i in t){if(!t.hasOwnProperty(i))continue;var s=t[i].path||e.expr.evaluateExpr(t[i].literal,n);if(!s)s=$axure.utils.getTransparentGifPath();r[i]=s}return r};e.clearRepeaterImageOverrides=function(t){var n=e.getChildElementIdsForRepeater(t);for(var r=n;r<n.length;r++)e.style.deleteElementIdToImageOverride(n[r])};t.setFocusOnWidget=function(t,n,r){var i=n[r];if(i.objectPaths.length>0){var s=e.getElementIdsFromPath(i.objectPaths[0],t);if(s.length>0){e("#"+s[0]).focus()}}c(t,n,r+1)};t.expandCollapseTree=function(t,n,r){var i=n[r];for(var s=0;s<i.pathToInfo.length;s++){var o=i.pathToInfo[s];var u=e.getElementIdsFromPath(o.treeNodePath,t);for(var a=0;a<u.length;a++)e("#"+u[a]).expanded(o.expandCollapseInfo.expand)}c(t,n,r+1)};t.other=function(t,n,r){var i=n[r];e.navigate({url:$axure.utils.getOtherPath()+"#other="+encodeURI(i.otherDescription),target:"popup",includeVariables:false,popupOptions:i.popup});c(t,n,r+1)};t.raiseEvent=function(t,n,r){var i=n[r];if(t.srcElement){var s=t.srcElement;var o=e.getObjectFromElementId(s);var u=e.getRdoParentFromElementId(s);var a=e.getObjectFromElementId(u);var f=t.isMasterEvent;if(o.type=="referenceDiagramObject"&&t.isMasterEvent){u=s;a=o;t.isMasterEvent=false}for(var l=0;l<i.raisedEvents.length;l++){var h=i.raisedEvents[l];var p=t.raisedId;var d=a.interactionMap&&a.interactionMap&&a.interactionMap.raised[h];if(d){var v=t.srcElement;t.srcElement=u;t.raisedId=u;e.event.handleEvent(u,t,d,false,true);t.raisedId=p;t.srcElement=v}}t.isMasterEvent=f}c(t,n,r+1)}})