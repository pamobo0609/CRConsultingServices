$axure.internal(function(e){if(!IE)return;var t={};if(Number(BROWSER_VERSION)<9)e.ieColorManager=t;var n=function(){if(Number(BROWSER_VERSION)>=7)return;$axure(function(e){return e.fixedVertical}).$().appendTo($("body")).css("position","absolute").css("margin-left",0+"px").css("margin-top",0+"px");var e=function(){$axure(function(e){return e.fixedVertical}).each(function(e,t){var n=$(window);var r=n.width();var i=n.height();var s=n.scrollLeft();var o=n.scrollTop();var u=0;var a=0;var f=$("#"+t);var l=f.width();var c=f.height();var h=e.fixedHorizontal;if(h=="left"){u=s+e.fixedMarginHorizontal}else if(h=="center"){u=s+(r-l)/2+e.fixedMarginHorizontal}else if(h=="right"){u=s+r-l-e.fixedMarginHorizontal}var p=e.fixedVertical;if(p=="top"){a=o+e.fixedMarginVertical}else if(p=="middle"){a=o+(i-c)/2+e.fixedMarginVertical}else if(p=="bottom"){a=o+i-c-e.fixedMarginVertical}f.css("top",a+"px").css("left",u+"px")})};$(window).scroll(e);$axure.resize(e);e()};var r=function(){if(Number(BROWSER_VERSION)>=9)return;var t=e.adaptive.getAdaptiveIdChain(e.adaptive.currentViewId);var n=s(e.pageData.page,t);var r=f(n,false);if(r)$("body").css("background-color",r);i(e("*"))};var i=function(t){if(Number(BROWSER_VERSION)>=9)return;var n=e.adaptive.getAdaptiveIdChain(e.adaptive.currentViewId);t.each(function(t,r){if(t.type=="dynamicPanel"){var i=t.diagrams.length;for(var o=0;o<i;o++){var u=e.repeater.applySuffixToElementId(r,"_state"+o);var a=s(t.diagrams[o],n);var l=f(a,true);if(l)$jobj(u).css("background-color",l)}}else if(t.type=="repeater"){}})};t.applyBackground=i;var s=function(e,t){var n=undefined;for(var r=0;r<t.length&&!n;r++){var i=e.adaptiveStyles[t[r]];n=i.fill&&i.fill.color}if(!n)n=e.style.fill.color;return n};var o=256;var u=o*256;var a=u*256;var f=function(e,t){var n=Math.floor(e/a);e-=n*a;var r=Math.floor(e/u);e-=r*u;var i=Math.floor(e/o);var s=e-i*o;return l(n,r,i,s,t)};var l=function(e,t,n,r,i){if(Number(BROWSER_VERSION)>=9)return undefined;t=Math.min(t*e/255+255-e,255);n=Math.min(n*e/255+255-e,255);r=Math.min(r*e/255+255-e,255);if(e==0)return undefined;if(!i&&t==255&&n==255&&r==255)return undefined;var s="#";s+=Math.floor(t/16).toString(16);s+=Math.floor(t%16).toString(16);s+=Math.floor(n/16).toString(16);s+=Math.floor(n%16).toString(16);s+=Math.floor(r/16).toString(16);s+=Math.floor(r%16).toString(16);return s};t.getColorFromArgb=l;var c=function(e,t){var n=[$axure.utils.Vector2D(0,0),e.mul($axure.utils.Vector2D(0,t.height)),e.mul($axure.utils.Vector2D(t.width,0)),e.mul($axure.utils.Vector2D(t.width,t.height))];var r=0,i=0,s=0,o=0;$.each(n,function(e,t){r=Math.min(r,t.x);i=Math.min(i,t.y);s=Math.max(s,t.x);o=Math.max(o,t.y)});return $axure.utils.Vector2D((s-r-t.width)/2,(o-i-t.height)/2)};var h=function(e){return"progid:DXImageTransform.Microsoft.Matrix(M11="+e.m11+", M12="+e.m12+", M21="+e.m21+", M22="+e.m22+", SizingMethod='auto expand')"};var p=function(){if(Number(BROWSER_VERSION)>=9)return;$axure(function(e){return(e.style.rotation&&Math.abs(e.style.rotation)>.1||e.style.textRotation&&Math.abs(e.style.textRotation)>.1)&&!e.isContained}).each(function(t,n){var r=t.style.rotation||0;var i=$("#"+n);var s=i.width();var o=i.height();var u=s/2;var a=o/2;var f;i.children().each(function(){var n=$(this);var i=n.width();var s=n.height()+n.position().top;var o=n.position().left+i/2;var l=n.position().top+s/2;var p=o-u;var d=l-a;var v=r;var m=e.getObjectFromElementId(n.attr("id"));if(m){if(m.style.textRotation)v=m.style.textRotation;else return}var g=e.utils.Matrix2D.identity().rotate(v);var y=h(g);n.css("filter",y).width(i+1).height(s+1);var b=g.mul(e.utils.Vector2D(p,d));var w=c(g,{width:i,height:s});if(!m){f=w}else{if(t.style.verticalAlignment!="top")w.y-=f.y+Math.abs(f.x)}n.css("margin-left",-w.x-p+b.x).css("margin-top",-w.y-d+b.y)})})};var d=function(){if(Number(BROWSER_VERSION)>=9)return;var t=e.adaptive.getPageStyle();if(!t.imageRepeat||t.imageRepeat=="auto")return;$("body").css("background-image","none");var n=e.adaptive.currentViewId;var r=n?e.pageData.viewIdToBackgroundImageInfo&&e.pageData.viewIdToBackgroundImageInfo[n]:e.pageData.defaultBackgroundImageInfo;if(r&&r.path){if($("#bg_img").length==0)$("body").append('<img id="bg_img"/>');$("#bg_img").attr("src",r.path).css("position","fixed").css("z-index","-10000");v()}else $("#bg_img").remove()};var v=function(){if(Number(BROWSER_VERSION)>=9)return;var t=e.adaptive.currentViewId;var n=e.adaptive.getPageStyle();if(!e.pageData.defaultBackgroundImageInfo&&!e.pageData.viewIdToBackgroundImageInfo)return;var r=t?e.pageData.viewIdToBackgroundImageInfo[t]:e.pageData.defaultBackgroundImageInfo;if(!r)return;var i=r.width;var s=r.height;var o=$(window).width();var u=$(window).height();var a=n.imageRepeat=="cover";var f=o/i;var l=u/s;var c=f;if(a){if(l>f)c=l}else{if(l<f)c=l}var h=i*c;var p=s*c;var d="0px";if(a&&h>o||!a&&h<o){if(n.imageHorizontalAlignment=="center"){d=(o-h)/2+"px"}else if(n.imageHorizontalAlignment=="far"){d=o-h+"px"}}var v="0px";if(a&&p>u||!a&&p<u){if(n.imageVerticalAlignment=="center"){v=(u-p)/2+"px"}else if(n.imageVerticalAlignment=="far"){v=u-p+"px"}}$("#bg_img").css("top",v).css("left",d).css("width",h).css("height",p)};var m=function(){if(!(/MSIE ((5\.5)|6)/.test(window.navigator.userAgent)&&window.navigator.platform=="Win32"))return;$('img[src$=".png"]').each(function(){if(!this.complete){this.onload=function(){$axure.utils.fixPng(this)}}else{$axure.utils.fixPng(this)}})};var g=function(){if(Number(BROWSER_VERSION)>=8||window.navigator.userAgent.indexOf("Trident/4.0")>-1)return;var e=$("input").not(":input[type=button], :input[type=submit], :input[type=radio], :input[type=checkbox]");e.each(function(){var e=$(this);e.css("height",e.height()-4+"px").css("width",e.width()-2+"px")});var t=$("textarea");t.each(function(){var e=$(this);e.css("height",e.height()-6+"px").css("width",e.width()-6+"px")})};var y=function(){var e=$("input").not(":input[type=button], :input[type=submit], :input[type=radio], :input[type=checkbox]");e=e.add($("textarea"));e.each(function(){var e=$(this);if(e.css("background-color")=="transparent"){e.css("background-image","url(../../transparent.gif)")}else{e.css("background-image","")}})};$(document).ready(function(){d();n();$axure.resize(function(){v()});e.adaptive.bind("viewChanged",function(){d();r();y()});m();p();r();g();y()})})